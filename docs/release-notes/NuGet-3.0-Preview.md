---
title: Заметки о выпуске NuGet 3,0 Preview
description: Заметки о выпуске для предварительной версии NuGet 3,0, включая известные проблемы, исправления ошибок, добавленные функции и DCR.
author: JonDouglas
ms.author: jodou
ms.date: 11/11/2016
ms.topic: conceptual
ms.openlocfilehash: ecaed21c5e689a488e033404f8042cd1f17eed0d
ms.sourcegitcommit: ee6c3f203648a5561c809db54ebeb1d0f0598b68
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/26/2021
ms.locfileid: "98780336"
---
# <a name="nuget-30-preview-release-notes"></a>Заметки о выпуске NuGet 3,0 Preview

[Заметки о](../release-notes/nuget-2.9-rc.md)  |  выпуске для версии-кандидата NuGet 2,9 [Заметки о бета-версии NuGet 3,0](../release-notes/nuget-3.0-beta.md)

Версия NuGet 3,0 была выпущена 12 ноября 2014 в рамках предварительной версии Visual Studio 2015. Мы выпустили предварительную версию NuGet 3,0. Это большой выпуск для нас (хотя предварительная версия), и мы рады начать получать отзывы о наших изменениях.

## <a name="visual-studio-2012"></a>Visual Studio 2012 +

Этот предварительный просмотр NuGet 3,0 включен в предварительную версию Visual Studio 2015. Мы работаем над тем, чтобы получить предварительную версию Visual Studio 2012 и Visual Studio 2013 в ближайшее время. Мы уже использовали нашу цель для [прекращения обновлений для Visual Studio 2010](http://blog.nuget.org/20141002/visual-studio-2010.html), и мы сделали это сложное решение.

## <a name="brand-new-ui"></a>Новый пользовательский интерфейс

Первое, что вы заметили в предварительной версии NuGet 3,0, — наш новый пользовательский интерфейс. Он больше не является модальным диалоговым окном. Теперь это полное окно документа Visual Studio. Это позволяет открывать пользовательский интерфейс для нескольких проектов (и/или решений) одновременно, переключая окно на другой монитор, закреплять его, но и т. д.

![Новый пользовательский интерфейс NuGet](./media/NuGet-3.0-Preview/new-ui.png)

Помимо различий в удобстве использования из-за отсутствия модального диалогового окна у нас также есть множество новых функций в новом пользовательском интерфейсе.

### <a name="version-selection"></a>Выбор версии

Возможно, самая востребованная функция пользовательского интерфейса — разрешить выбор версий для установки и обновления пакетов. Теперь это стало доступным.

![Выбор версии пакета](./media/NuGet-3.0-Preview/version-selection.png)

Независимо от того, выполняется ли установка или обновление пакета, в раскрывающемся списке версия можно просмотреть все версии, доступные для пакета, с некоторыми важными версиями, которые были повышены до верхней части списка, чтобы упростить выбор. Больше не нужно использовать консоль PowerShell для получения конкретных версий, которые не являются последними.

### <a name="combined-installedonlineupdates-workflows"></a>Объединенные рабочие процессы установки, сети или обновления

Предыдущий пользовательский интерфейс содержал три вкладки для установленных, сетевых и обновленных. Перечисленные пакеты относятся к этим рабочим процессам и действиям, которые были специфичны для рабочих процессов. Хотя это было логично, мы слышали, что многие из вас часто приведут к работе с этим разделением.

Теперь у нас есть Объединенный интерфейс, в котором можно установить, обновить или удалить пакет независимо от того, как был выбран пакет. Чтобы упростить работу с конкретными рабочими процессами, теперь у нас есть раскрывающийся список фильтров, позволяющий фильтровать видимые пакеты, но действия, доступные для пакета, будут одинаковыми.

![Удаление пакета](./media/NuGet-3.0-Preview/uninstall-package.png)

С помощью фильтра "установлено" можно легко просмотреть установленные пакеты, для которых доступны обновления, а затем удалить или обновить пакет, изменив выбор версии, чтобы увидеть изменение доступных действий.

![Обновление пакета](./media/NuGet-3.0-Preview/update-package.png)

### <a name="version-consolidation"></a>Консолидация версий

Обычно один и тот же пакет устанавливается в несколько проектов в решении. Иногда версии, устанавливаемые в каждый проект, могут различаться, и необходимо консолидировать используемые версии. В предварительной версии NuGet 3,0 появилась новая функция только для этого сценария.

Доступ к окну управления пакетами уровня решения можно получить, щелкнув решение правой кнопкой мыши и выбрав пункт Управление пакетами NuGet для решения. Если выбрать пакет, который устанавливается в несколько проектов, но с разными используемыми версиями, будет доступно новое действие консолидации. На приведенном ниже снимке экрана `Newtonsoft.Json` был установлен в `SamplesClassLibrary` с версией `6.0.4` и установлен в `SamplesConsoleApp` с версией `5.0.4` .

![Консолидация версий](./media/NuGet-3.0-Preview/consolidate.png)

Ниже приведен рабочий процесс консолидации на одну версию.

1. Выберите `Newtonsoft.Json` пакет в списке
1. Выбор `Consolidate` из `Action` раскрывающегося списка
1. Используйте `Version` раскрывающееся меню, чтобы выбрать версию для консолидации
1. Установите флажки для проектов, которые должны быть объединены в эту версию (Обратите внимание, что проекты, уже выбранные в выбранной версии, будут неактивны).
1. Нажмите кнопку, `Consolidate` чтобы выполнить консолидацию

### <a name="operation-previews"></a>Предварительные версии операций

Независимо от выполняемой операции — установка, обновление или удаление — новый пользовательский интерфейс теперь предлагает способ предварительного просмотра изменений, которые будут внесены в проект. В этой предварительной версии будут показаны новые пакеты, которые будут установлены, пакеты, которые будут обновлены, и пакеты, которые будут удалены, а также пакеты, которые будут неизменны во время операции.

В приведенном ниже примере можно увидеть, что установка Microsoft. AspNet. SignalR приведет к незначительному изменению проекта.

![Предварительный просмотр установки SignalR](./media/NuGet-3.0-Preview/preview.png)

### <a name="installation-options"></a>Варианты установки

С помощью консоли PowerShell вы могли контролировать несколько важных вариантов установки. Теперь мы включили эти функции в пользовательский интерфейс. Теперь можно управлять поведением разрешения зависимостей для выбора версий зависимостей.

![Поведение зависимости](./media/NuGet-3.0-Preview/dependency-behavior.png)

Можно также указать действие, выполняемое при конфликте файлов содержимого из пакетов с файлами, уже наданными в проекте.

![Действие конфликта файлов](./media/NuGet-3.0-Preview/file-conflict-action.png)

### <a name="infinite-scrolling"></a>Бесконечная прокрутка

Мы использовали, чтобы получить довольно много отзывов о пользовательском интерфейсе, у которого есть парадигмы прокрутки и разбиения на страницы при составлении списка пакетов. Было довольно распространено, что для прокрутки в нижнюю часть короткого списка щелкните номер следующей страницы, а затем прокрутите экран еще раз. В новом пользовательском интерфейсе мы реализовали бесконечную прокрутку в списке пакетов, чтобы только прокрутка не доходилась.

![Бесконечная прокрутка](./media/NuGet-3.0-Preview/infinite-scrolling.png)

### <a name="make-it-work-make-it-fast-make-it-pretty"></a>Сделайте его работоспособным, сделайте его быстрым, сделайте его довольно

Мы рады получить новый пользовательский интерфейс, чтобы испытать его. Во время этой предварительной версии мы уже работали с хорошим старым пословицаом «Сделайте свою работу, сделайте ее быстрой, сделайте ее довольно». В этой предварительной версии мы выполнили большую часть этой первой цели — она работает. Мы понимаем, что это не слишком быстро, и мы понимаем, что это не совсем непросто. Доверяйте, что сейчас мы будем работать над этими целями, а также с версией RC. В то же время мы будем рады узнать о *удобстве использования* нового пользовательского интерфейса — рабочих процессах, операциях и способах использования нового пользовательского  интерфейса.

Существует несколько функций, которые мы удалили по сравнению со старым пользовательским интерфейсом. Одна из них была преднамеренной, а другая — только вовремя.

#### <a name="searching-all-package-sources"></a>Поиск источников пакетов «все»

Старый пользовательский интерфейс позволял вам выполнять поиск пакета для всех источников пакетов. Мы удалили эту функцию в пользовательском интерфейсе, и мы не будем вносить ее обратно. Эта функция используется для выполнения операций поиска по всем источникам пакетов, объединения результатов и попыток упорядочивания результатов на основе выбранного варианта сортировки.

Мы обнаружили, что релевантность поиска, по сути, сложна для объединения. Можно ли представить себе выполнение поиска в Google и Bing и объединение результатов? Кроме того, эта функция была невысокой, простой в *случайном* использовании, и мы считаем, что она редко бывает полезной. Из-за проблем, которые появились в этой функции, мы получили на нее ряд отчетов об ошибках, которые никогда не могли быть исправлены.

#### <a name="update-all"></a>Обновить все

Мы использовали для создания в старом пользовательском интерфейсе кнопки "обновить все", которая еще не существует в новом пользовательском интерфейсе. Эта функция будет восстановлена для версии-КАНДИДАТа.

## <a name="new-clientserver-api"></a>Новый API клиента/сервера

Помимо всех новых возможностей в новом пользовательском интерфейсе управления пакетами, мы также работаем над некоторыми сведениями о реализации протокола клиента/сервера NuGet. Работа, которую мы сделали, — это создать "API V3" для NuGet, который разработан для обеспечения высокого уровня доступности для критически важных сценариев, таких как восстановление пакетов и установка пакетов. Новый API основан на функциях RESTFUL и Media, и мы выбрали [JSON-LD](http://json-ld.org) в качестве формата ресурсов.

В битах предварительной версии NuGet 3,0 вы увидите новый источник пакета с именем "preview.nuget.org" в раскрывающемся списке Источник пакета. Если выбрать этот источник пакета, мы будем использовать наш новый API вместо подключения к nuget.org. Мы предоставили исходный код для просмотра в пользовательском интерфейсе, пока мы продолжаем тестирование, пересмотр и усовершенствование нового API. В версии-КАНДИДАТе NuGet 3,0 этот новый источник пакетов на основе API V3 заменит источник пакета nuget.org на основе v2.

Несмотря на инвестиции, которые мы помещаем в API V3, мы сделали так, что все эти новые функции также работают с существующим протоколом API v2, что означает, что они будут работать с существующими источниками пакетов, кроме nuget.org.

## <a name="new-features-coming"></a>Поступающие новые функции

Между сейчас и 3,0 RTM мы также работаем над некоторыми основными функциями NuGet, помимо тех, которые вы видите в пользовательском интерфейсе. Ниже приведен краткий список вложенных областей ключевые:

1. Мы сотрудничаем с Visual Studio и командами MSBuild для [более глубокого получения NuGet на платформе](http://blog.nuget.org/20141014/in-the-platform.html).
1. Мы работаем над отказаться от соглашения о пакетах во время установки, а вместо этого применить эти соглашения во время упаковки, поставляя новый «Полномочный» [манифест пакета](http://blog.nuget.org/20141023/package-manifests.html).
1. Мы работаем над рефакторингом базы кода NuGet, чтобы сделать клиентские и серверные компоненты многократно используемыми в разных доменах за пределами управления пакетами в Visual Studio.
1. Мы изучаем понятие "частные зависимости", где пакет может указать, что он зависит от других пакетов только для сведений о реализации, и эти зависимости не должны выдаваться в виде зависимостей верхнего уровня.

## <a name="stay-tuned"></a>Оставайтесь в курсе

Следите за [нашим блогом](http://blog.nuget.org) , чтобы получить дополнительные сведения о ходе и объявлениях для NuGet 3,0!