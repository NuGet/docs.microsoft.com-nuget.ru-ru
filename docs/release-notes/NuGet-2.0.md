---
title: Заметки о выпуске NuGet 2,0
description: Заметки о выпуске NuGet 2,0, включая известные проблемы, исправления ошибок, добавленные функции и DCR.
author: karann-msft
ms.author: karann
ms.date: 11/11/2016
ms.topic: conceptual
ms.openlocfilehash: 01fdbfafcaea009cf119dfa880b2b16539c9b088
ms.sourcegitcommit: 26a8eae00af2d4be581171e7a73009f94534c336
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/25/2019
ms.locfileid: "75383071"
---
# <a name="nuget-20-release-notes"></a>Заметки о выпуске NuGet 2,0

[Заметки о выпуске nuget 1,8](../release-notes/nuget-1.8.md) | [заметок о выпуске NuGet 2,1](../release-notes/nuget-2.1.md)

Версия NuGet 2,0 была выпущена 19 июня 2012 г.

## <a name="known-installation-issue"></a>Известная ошибка установки
Если вы используете VS 2010 с пакетом обновления 1 (SP1), при попытке обновить NuGet, если установлена более старая версия, может возникнуть ошибка установки.

Чтобы решить эту проблему, просто удалите NuGet, а затем установите его из коллекции расширений VS.  Дополнительные сведения см. в разделе <https://support.microsoft.com/kb/2581019> или [непосредственно в исправление VS](http://bit.ly/vsixcertfix).

Примечание. Если Visual Studio не позволит удалить расширение (кнопка удаления отключена), скорее всего, потребуется перезапустить Visual Studio с помощью команды "Запуск от имени администратора".

## <a name="package-restore-consent-is-now-active"></a>Согласие на восстановление пакета теперь активно

Как описано в этой [записи при получении согласия на восстановление пакета](http://blog.nuget.org/20120518/package-restore-and-consent.html), NuGet 2,0 будет требовать предоставления этого согласия, чтобы включить восстановление пакетов для подключения к сети и загрузки пакетов. Убедитесь, что вы указали согласие с помощью диалогового окна настройки диспетчера пакетов или переменной среды Енабленужетпаккажересторе.

## <a name="group-dependencies-by-target-frameworks"></a>Группирование зависимостей по целевым платформам

Начиная с версии 2,0 зависимости пакета могут различаться в зависимости от профиля платформы целевого проекта. Это достигается с помощью обновленной схемы `.nuspec`. Элемент `<dependencies>` теперь может содержать набор элементов `<group>`. Каждая группа содержит ноль или более `<dependency>` элементов и атрибут `targetFramework`. Все зависимости внутри группы устанавливаются вместе, если Целевая платформа совместима с целевым профилем конечной платформы проекта. Например:

```xml
<dependencies>
    <group>
        <dependency id="RouteMagic" version="1.1.0" />
    </group>

    <group targetFramework="net40">
        <dependency id="jQuery" />
        <dependency id="WebActivator" />
    </group>

    <group targetFramework="sl30">
    </group>
</dependencies>
```

Обратите внимание, что группа может содержать **нулевые** зависимости. В приведенном выше примере, если пакет установлен в проекте, ориентированном на Silverlight 3,0 или более поздней версии, зависимости не будут установлены. Если пакет устанавливается в проект, предназначенный для .NET 4,0 или более поздней версии, будут установлены две зависимости, jQuery и активатор.  Если пакет устанавливается в проект, предназначенный для ранних версий этих двух платформ или для любой другой платформы, будет установлена Раутемагик 1.1.0. Между группами нет наследования. Если целевая платформа проекта соответствует атрибуту `targetFramework` группы, будут установлены только зависимости внутри этой группы.

Пакет может задавать зависимости пакетов в одном из двух форматов: старый формат неструктурированного списка `<dependency>` элементов или групп. Если используется формат `<group>`, пакет нельзя установить в версии NuGet более ранней, чем 2,0.

Обратите внимание, что смешивание двух форматов не допускается. Например, следующий фрагмент кода является **недопустимым** и будет отклонен NuGet.

```xml
<dependencies>
    <dependency id="jQuery" />
    <dependency id="WebActivator" />

    <group>
        <dependency id="RouteMagic" version="1.1.0" />
    </group>
</dependencies>
```

## <a name="grouping-content-files-and-powershell-scripts-by-target-framework"></a>Группирование файлов содержимого и скриптов PowerShell по целевым платформам

Помимо ссылок на сборки, файлы содержимого и скрипты PowerShell также могут быть сгруппированы по целевой платформе. Та же структура папок, которая находится в папке `lib` для указания целевой платформы, теперь может быть применена таким же образом, как и к папкам `content` и `tools`. Например:

    \content
        \net11
            \MyContent.txt
        \net20
            \MyContent20.txt
        \net40
        \sl40
            \MySilverlightContent.html

    \tools
        \init.ps1
        \net40
            \install.ps1
            \uninstall.ps1
        \sl40
            \install.ps1
            \uninstall.ps1

**Примечание**. Поскольку `init.ps1` выполняется на уровне решения и не зависит от отдельного проекта, его необходимо поместить непосредственно в папку `tools`. При помещении в папку, зависящую от платформы, она будет проигнорирована.

Кроме того, Новая функция в NuGet 2,0 заключается в том, что папка Framework может быть *пустой*. в этом случае NuGet не будет добавлять ссылки на сборки, добавлять файлы содержимого или запускать скрипты PowerShell для конкретной версии платформы. В приведенном выше примере папка `content\net40` пуста.

## <a name="improved-tab-completion-performance"></a>Улучшенная производительность заполнения нажатием клавиши TAB
Функция заполнения нажатием клавиши TAB в консоли диспетчера пакетов NuGet была обновлена для значительного повышения производительности. При нажатии клавиши Tab будет значительно меньше задержки, пока не появится раскрывающийся список предложений.

## <a name="bug-fixes"></a>Исправления ошибок
NuGet 2,0 включает множество исправлений ошибок с учетом согласия и производительности восстановления пакета.
Полный список рабочих элементов, исправленных в NuGet 2,0, см. в [этом выпуске](http://nuget.codeplex.com/workitem/list/advanced?keyword=&status=Closed&type=All&priority=All&release=NuGet%202.0&assignedTo=All&component=All&sortField=Votes&sortDirection=Descending&page=0).
