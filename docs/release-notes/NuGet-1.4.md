---
title: Заметки о выпуске NuGet 1,4
description: Заметки о выпуске NuGet 1,4, включая известные проблемы, исправления ошибок, добавленные функции и DCR.
author: karann-msft
ms.author: karann
ms.date: 11/11/2016
ms.topic: conceptual
ms.openlocfilehash: 4b31c02b9251d6d45d952fdf8b111493495d57ba
ms.sourcegitcommit: c81561e93a7be467c1983d639158d4e3dc25b93a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/02/2020
ms.locfileid: "78230711"
---
# <a name="nuget-14-release-notes"></a>Заметки о выпуске NuGet 1,4

[Заметки о выпуске nuget 1,3](../release-notes/nuget-1.3.md) | [заметок о выпуске NuGet 1,5](../release-notes/nuget-1.5.md)

NuGet 1,4 был выпущен 17 июня 2011 г.

## <a name="features"></a>Компоненты

### <a name="update-package-improvements"></a>Усовершенствования пакета обновления
В NuGet 1,4 введено множество улучшений команды Update-Package, что упрощает обеспечение сохранения пакетов в одной версии в нескольких проектах в решении. Например, при обновлении пакета до последней версии очень часто требуется, чтобы все проекты с установленным пакетом были обновлены до тех же верисион.

Команда `Update-Package` теперь упрощает следующие задачи:

#### <a name="update-all-packages-in-a-single-project"></a>Обновление всех пакетов в одном проекте

    Update-Package -Project MvcApplication1

#### <a name="update-a-package-in-all-projects"></a>Обновление пакета во всех проектах

    Update-Package PackageId

#### <a name="update-all-packages-in-all-projects"></a>Обновить все пакеты во всех проектах

    Update-Package

#### <a name="perform-a-safe-update-on-all-packages"></a>Выполнение "безопасного" обновления для всех пакетов
Флаг `-Safe` ограничивает обновление только версиями с одним и тем же основным и вспомогательным компонентом версии. Например, если установлена версия пакета 1.0.0 и версии 1.0.1, 1.0.2 и 1,1 доступны в веб-канале, флаг `-Safe` обновляет пакет до версии 1.0.2. Обновление без флага `-Safe` приведет к обновлению пакета до последней версии 1,1.

    Update-Package -Safe

### <a name="managing-packages-at-the-solution-level"></a>Управление пакетами на уровне решения
До NuGet 1,4 Установка пакета в несколько проектов была утомительной с помощью диалогового окна. Он требовал запуска диалогового окна один раз для каждого проекта.

NuGet 1,4 добавляет поддержку установки, удаления и обновления пакетов в нескольких проектах одновременно. Просто запустите компонент, щелкнув правой кнопкой мыши решение и выбрав пункт **Управление пакетами NuGet** .

![Диалоговое окно "Управление пакетами NuGet" на уровне решения](./media/manage-nuget-packages-solution-dialog.png)

Обратите внимание, что в заголовке диалогового окна отображается имя решения, а не имя проекта.
Операции с пакетами теперь предоставляют список флажков со списком проектов, к которым должна применяться операция.

![Управление пакетами NuGet выбор проекта](./media/manage-nuget-packages-project-selection.png)

Дополнительные сведения см. в разделе об [управлении пакетами для решения](../consume-packages/install-use-packages-visual-studio.md#manage-packages-for-the-solution).

### <a name="constraining-upgrades-to-allowed-versions"></a>Ограничение обновлений до разрешенных версий
По умолчанию при выполнении команды `Update-Package` в пакете (или обновлении пакета с помощью диалогового окна) он будет обновлен до последней версии в веб-канале. Благодаря новой поддержке обновления всех пакетов могут возникнуть ситуации, в которых необходимо заблокировать пакет для определенного диапазона версий. Например, вы можете заранее понять, что приложение будет работать только с версией 2. * пакета, но не 3,0 и выше. Чтобы предотвратить случайное обновление пакета до 3, NuGet 1,4 добавляет поддержку ограничения диапазона версий, до которого можно обновить пакеты, вручную редактируя файл `packages.config` с помощью нового атрибута `allowedVersions`.

Например, в следующем примере показано, как заблокировать `SomePackage` пакета диапазон версий 2,0-3,0 (эксклюзивный).
Атрибут `allowedVersions` принимает значения с использованием [формата диапазона версий](../concepts/package-versioning.md#version-ranges).

```xml
<?xml version="1.0" encoding="utf-8"?>
<packages>
    <package id="SomePackage" version="2.1.0" allowedVersions="[2.0, 3.0)" />
</packages>
```

Обратите внимание, что в 1,4 Блокировка пакета в определенном диапазоне версий должна быть вручную изменена. В NuGet 1,5 мы планируем добавить поддержку для размещения этого диапазона с помощью команды `Install-Package`.

### <a name="package-visualizer"></a>Визуализатор пакетов
Новый Визуализатор пакетов, запущенный с помощью команды меню **инструменты** -> **диспетчер пакетов библиотек** -> **пакета** , позволяет легко визуализировать все проекты и их зависимости пакетов в решении.

_**Важное замечание.** Эта функция использует преимущества поддержки DGML в Visual Studio. Создание визуализации поддерживается только в Visual Studio Ultimate. Просмотр DGML-схемы поддерживается только в Visual Studio Premium и более поздних версиях._

![Визуализатор пакетов](./media/package-visualizer.png)

### <a name="automatic-update-check-for-the-nuget-dialog"></a>Автоматическая проверка обновлений для диалогового окна NuGet
Некоторые версии NuGet предоставляют новые функции, представленные в `.nuspec` файле, которые не распознаются более старыми версиями диалогового окна NuGet.
Одним из примеров является введение в NuGet 1,4 для [указания сборок платформы](../release-notes/nuget-1.2.md#framework-assembly-refs).
Поэтому важно использовать последнюю версию NuGet, чтобы вы могли использовать пакеты, используя преимущества новейших функций.
Чтобы сделать обновления для NuGet более видимыми, диалоговое окно NuGet содержит логику, которая выделит, когда доступна более новая версия.

_**Примечание**. Проверка выполняется только в том случае, если в текущем сеансе выбрана вкладка "в **сети** "._

![Диалоговое окно управления пакетами NuGet с доступной новой версией](./media/manage-nuget-packages-update-notification.png)

Чтобы отключить автоматическую проверку обновлений, перейдите в диалоговое окно Параметры NuGet и снимите флажок **автоматически проверять наличие обновлений**.

![Параметры NuGet](./media/nuget-settings.png)

Эта функция на самом деле была добавлена в NuGet 1,3, но она не будет видима, разумеется, пока не станет доступной обновление 1,3, например NuGet 1,4.

### <a name="package-manager-dialog-improvements"></a>Усовершенствования диалогового окна диспетчера пакетов
* **Улучшенные имена меню**: параметры меню для запуска диалогового окна были переименованы для ясности. Теперь команда меню **управляет пакетами NuGet**.
* **Область сведений показывает дату последнего обновления**. в диалоговом окне NuGet отображается дата последнего обновления в области сведений для пакета, если выбрана вкладка "в **сети** " или " **обновления** ".
* **Список отображаемых тегов**. в диалоговом окне NuGet отображаются теги.

### <a name="powershell-improvements"></a>Усовершенствования PowerShell
* **Подписанные скрипты PowerShell**. NuGet включает подписанные сценарии PowerShell, которые позволяют использовать более узкие среды.
* **Поддержка запросов**. Теперь консоль диспетчера пакетов поддерживает запросы с помощью команд `$host.ui.Prompt` и `$host.ui.PromptForChoice`.
* **Имена источников пакетов**. Указание имени источника пакета поддерживается при указании источника пакета с помощью флага `-Source`.

### <a name="nugetexe-command-line-improvements"></a>улучшения командной строки NuGet. exe
* **Пользовательские команды NuGet**. файл NuGet. exe расширяется с помощью пользовательских команд, использующих MEF.
* **Более простой рабочий процесс для создания пакетов символов**. флаг `-Symbols` можно применить к стандартной структуре папок на основе соглашения о создании пакета символов, включая только исходные и `.pdb` файлы в папке.
* **Указание нескольких источников**. команда `NuGet install` поддерживает указание нескольких источников с помощью точки с запятой в качестве разделителя или путем указания `-Source` несколько раз.
* **Поддержка проверки подлинности прокси-сервера**. NuGet 1,4 добавляет поддержку запроса учетных данных пользователя при использовании NuGet за прокси-сервером, требующем проверки подлинности.
* **критическое изменение для обновления NuGet. exe**: для NuGet. exe теперь необходимо установить флаг `-Self`. `nuget.exe Update` теперь принимает путь к файлу `packages.config` и пытается обновить пакеты. Обратите внимание, что это обновление ограничено тем, что оно не будет: * * обновление, Добавление и удаление содержимого в файле проекта.
* * Запуск скриптов PowerShell в пакете.

### <a name="nuget-server-support-for-pushing-packages-using-nugetexe"></a>Поддержка отправки пакетов с помощью NuGet. exe на сервере NuGet
NuGet предоставляет простой способ размещения [упрощенного веб-репозитория NuGet](../hosting-packages/nuget-server.md) через пакет NuGet `NuGet.Server`. В NuGet 1,4 Облегченный сервер поддерживает принудительную передачу и удаление пакетов с помощью NuGet. exe.
Последняя версия `NuGet.Server` добавляет новую `appSetting`с именем `apiKey`. Если ключ не указан или оставлен пустым, отправка пакетов в веб-канал отключается. Установка значения apiKey (в идеале надежный пароль) позволяет принудительно передавать пакеты с помощью NuGet. exe.

```xml
<appSettings>
    <!-- Set the value here to allow people to push/delete packages from the server.
            NOTE: This is a shared key (password) for all users. -->
    <add key="apiKey" value="" />
</appSettings>
```

### <a name="support-for-windows-phone-tools-mango-edition"></a>Поддержка средств Windows Phoneного выпуска
Теперь NuGet поддерживается в версии-кандидате средств Windows Phone Tools для системы управления версиями.
В настоящее время средства Windows Phone не поддерживают диспетчер расширений Visual Studio, поэтому для установки NuGet для Windows Phone инструментов может потребоваться Скачать и запустить VSIX вручную.

Чтобы удалить NuGet для Windows Phone инструментов, выполните следующую команду.

     vsixinstaller.exe /uninstall:NuPackToolsVsix.Microsoft.67e54e40-0ae3-42c5-a949-fddf5739e7a5

## <a name="bug-fixes"></a>Исправления ошибок
В NuGet 1,4 было исправлено всего 88 рабочих элементов. 71 из них были помечены как ошибки.

Полный список рабочих элементов, исправленных в NuGet 1,4, см. в [этом выпуске](http://nuget.codeplex.com/workitem/list/advanced?keyword=&status=All&type=All&priority=All&release=NuGet%201.4&assignedTo=All&component=All&sortField=LastUpdatedDate&sortDirection=Descending&page=0).

## <a name="bug-fixes-worth-noting"></a>Исправлены ошибки, которые следует отметить:

* [Ошибка 603](http://nuget.codeplex.com/workitem/603). зависимости пакета в разных репозиториях разрешаются правильно при указании определенного источника пакета.
* [Ошибка 1036](http://nuget.codeplex.com/workitem/1036): Добавление `NuGet Pack SomeProject.csproj` события после сборки больше не приводит к бесконечному циклу.
* [Ошибка 961](http://nuget.codeplex.com/workitem/961): флаг `-Source` поддерживает относительные пути.

## <a name="nuget-14-update"></a>Обновление NuGet 1,4
Вскоре после выпуска NuGet 1,4 мы обнаружили несколько проблем, которые были важны для исправления.
Номер версии этого обновления для 1,4 — 1.4.20615.9020.

### <a name="bug-fixes"></a>Исправления ошибок
* [Проблема 1220](http://nuget.codeplex.com/workitem/1220): обновление — пакет не выполняется `install.ps1`/`uninstall.ps1` во всех проектах, если имеется более одного проекта
* [Ошибка 1156](http://nuget.codeplex.com/workitem/1156): Диспетчер пакетов консолей в W2K3/XP (если не установлена оболочка PowerShell 2)
