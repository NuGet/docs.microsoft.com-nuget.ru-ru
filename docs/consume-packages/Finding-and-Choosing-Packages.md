---
title: Поиск и выбор пакетов NuGet
description: Общие сведения о поиске и выборе наиболее подходящих пакетов NuGet для проекта, включая информацию о синтаксисе поиска NuGet.
author: karann-msft
ms.author: karann
ms.date: 06/04/2018
ms.topic: conceptual
ms.openlocfilehash: 9f427005251bc2bf7a8a79285e39b4bd49062dbf
ms.sourcegitcommit: e9c1dd0679ddd8ba3ee992d817b405f13da0472a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2020
ms.locfileid: "76813355"
---
# <a name="finding-and-evaluating-nuget-packages-for-your-project"></a>Поиск и пробное использование пакетов NuGet для проекта

При запуске любого проекта .NET, а также в тех случаях, когда это необходимо для ваших приложений и служб с функциональной точки зрения, вы можете сэкономить много времени и сил, используя существующие пакеты NuGet, которые реализуют необходимый функционал. Такие пакеты могут находиться как в открытой коллекции на веб-сайте [nuget.org](https://www.nuget.org/packages/), так и в закрытых источниках, предоставляемых вашей организацией или другими третьими лицами.

## <a name="finding-packages"></a>Поиск пакетов

Если вы впервые посещаете веб-сайт nuget.org или открываете пользовательский интерфейс диспетчера пакетов в Visual Studio, вы увидите список пакетов, отсортированный по общему числу скачиваний. Таким образом, вы сразу же увидите наиболее популярные пакеты, используемые в миллионах проектов .NET. Велика вероятность того, что, как минимум, некоторые из представленных на этой первой странице пакетов пригодятся вам при работе с проектами.

![Представление по умолчанию nuget.org/packages со списком наиболее популярных пакетов](media/Finding-01-Popularity.png)

Обратите внимание на параметр **Включить предварительные выпуски** в верхнем правом углу страницы. Если выбрать его, на веб-сайте nuget.org будут показаны все версии пакетов, включая бета-версии и другие предварительные выпуски. Чтобы показывать только стабильные выпуски, снимите этот флажок.

Пакеты, предназначенные для конкретных целей, чаще всего ищут по тегам (в диспетчере пакетов Visual Studio, на портале nuget.org или аналогичных ресурсах). Например, при поиске по тегу "json" будут выведены все пакеты NuGet, которые отмечены соответствующим ключевым словом и, таким образом, связаны с форматом данных JSON.

![Результаты поиска по тегу "json" на веб-сайте nuget.org](media/Finding-02-SearchResults.png)

Также можно выполнить поиск по идентификатору проекта, если он вам известен. См. раздел [Синтаксис поиска](#search-syntax) ниже.

На данный момент результаты поиска сортируются только по релевантности, поэтому обычно рекомендуется просматривать как минимум несколько первых страниц результатов или уточнить критерии поиска.

### <a name="does-the-package-support-my-projects-target-framework"></a>Поддерживает ли пакет целевую платформу моего проекта?

NuGet устанавливает пакет в проект только в том случае, если целевая платформа проекта входит в список поддерживаемых пакетом платформ. Если пакет несовместим, NuGet выдает ошибку.

Для некоторых пакетов список поддерживаемых платформ приводится непосредственно в коллекции nuget.org, однако поскольку такие данные не требуются, для многих пакетов эта информация не указывается. В настоящий момент на веб-сайте nuget.org не предусмотрен способ поиска пакетов, поддерживающих конкретную целевую платформу (эта возможность находится на рассмотрении; см. [вопрос NuGet 2936](https://github.com/NuGet/NuGetGallery/issues/2936)).

Однако при необходимости поддерживаемые платформы можно определить другими способами:

1. Попытайтесь установить пакет в проект, используя команду [`Install-Package`](../reference/ps-reference/ps-ref-install-package.md) в консоли диспетчера пакетов NuGet. Если пакет несовместим, эта команда выведет список поддерживаемых пакетом платформ.

1. Скачайте пакет с его страницы на веб-сайте nuget.org по ссылке **Скачать вручную** в разделе **Сведения**. Измените расширение с `.nupkg` на `.zip` и откройте файл, чтобы просмотреть содержимое его папки `lib`. В ней представлены вложенные папки для каждой поддерживаемой платформы, обозначенные с помощью моникера целевой платформы (TFM). Дополнительные сведения см. в статье [Требуемые версии .NET Framework](../reference/target-frameworks.md). Если в папке `lib` нет вложенных папок и располагается только один DLL-файл, попробуйте установить пакет в проект, чтобы определить его совместимость.

## <a name="pre-release-packages"></a>Пакеты предварительного выпуска

Разработчики пакетов нередко создают предварительные выпуски и бета-версии пакетов, на основании отзывов по которым продолжают улучшать свои предложения.

По умолчанию в результатах поиска на веб-сайте nuget.org отображаются пакеты предварительного выпуска. Чтобы искать только стабильные выпуски, снимите флажок **Включить предварительные выпуски** в верхнем правом углу страницы

![Флажок "Включить предварительные выпуски" на веб-сайте nuget.org](media/Finding-06-include-prerelease.png)

В среде Visual Studio и при работе со средствами интерфейса командной строки dotnet по умолчанию NuGet не включает предварительные версии. Чтобы изменить это поведение, выполните следующие действия:

- **Пользовательский интерфейс диспетчера пакетов в Visual Studio**. В окне **Управление пакетами NuGet** установите флажок **Включить предварительные версии**. При установке или снятии этого флажка список доступных версий, которые можно установить, в пользовательском интерфейсе диспетчера пакетов обновляется.

    ![Флажок "Включить предварительные версии" в Visual Studio](media/Prerelease_02-CheckPrerelease.png)

- **Консоль диспетчера пакетов**. Используйте параметр `-IncludePrerelease` с командами `Find-Package`, `Get-Package`, `Install-Package`, `Sync-Package` и `Update-Package`. См. [справочник по PowerShell](../reference/powershell-reference.md).

- **Интерфейс командной строки nuget.exe**: Используйте параметр `-prerelease` с командами `install`, `update`, `delete` и `mirror`. См. [справочник по интерфейсу командной строки NuGet](../reference/nuget-exe-cli-reference.md)

- **Интерфейс командной строки dotnet.exe**: укажите точную предварительную версию с помощью аргумента `-v`. Дополнительные сведения см. в статье о команде [dotnet add package](/dotnet/core/tools/dotnet-add-package).

<a name="native-cpp-packages"></a>

### <a name="native-c-packages"></a>Собственные пакеты C++

NuGet поддерживает собственные пакеты C++, которые можно использовать в проектах C++ в среде Visual Studio. Это позволяет использовать команду контекстного меню **Управление пакетами NuGet** для проектов, целевую платформу `native`, а также интеграцию с MSBuild.

Для поиска собственных пакетов на веб-сайте [nuget.org](https://www.nuget.org/packages) используйте критерий `tag:native`. Как правило, такие пакеты содержат файлы `.targets` и `.props`, которые NuGet автоматически импортирует при добавлении пакета в проект.

## <a name="evaluating-packages"></a>Пробное использование пакетов

Чтобы оценить пользу пакета, загрузите его и добавьте в код (все пакеты на сайте nuget.org регулярно проверяются на наличие вирусов). В конечном итоге даже самые популярные пакеты в самом начале использовали лишь некоторые разработчики, и вы можете стать одним из первых пользователей возможного будущего хита!

В то же время, используя пакет NuGet, вы полагаетесь на него и должны быть уверены в его надежности и работоспособности. Поскольку установка и непосредственное тестирование пакета занимают определенное время, вы также можете многое узнать о его качестве, используя информацию на странице со сведениями о пакете:

- *Статистика скачиваний*. На странице пакета на веб-сайте nuget.org в разделе **Статистика** показано общее число скачиваний, число скачиваний последней версии, а также среднее число скачиваний за день. Чем чаще другие разработчики скачивают и используют пакет, тем больше вероятность, что он хорошо зарекомендовал себя на практике.

    ![Статистика скачиваний на странице сведений о пакете](media/Finding-03-Downloads.png)

- *Использование GitHub*. На странице пакета в разделе **Использование GitHub** перечислены общедоступные репозитории GitHub, которые зависят от этого пакета и имеют высокую оценку в GitHub. Количество звезд у репозитория GitHub обычно указывает на то, насколько он популярен среди пользователей GitHub (обычно чем больше звезд, тем выше популярность). Дополнительные сведения о звездах и системе ранжирования репозиториев см. на [странице, посвященной началу работы с GitHub](https://help.github.com/en/github/getting-started-with-github/saving-repositories-with-stars#about-stars).

    ![Использование GitHub](media/GitHub-Usage.png)

    > [!Note]
    > Раздел "Использование GitHub" для пакета создается автоматически с определенной периодичностью. При этом отдельные репозитории людьми не проверяются, и служит этот раздел исключительно в информационных целях для показа репозиториев GitHub, зависящих от пакета и популярных среди пользователей GitHub.

- *История версий*. На странице пакета в разделе **Сведения** показана дата последнего обновления и **история версий** пакета. Если разработчик обеспечивает эффективное сопровождение пакета, у него будет обширная история версий и недавняя дата обновления. Непопулярные пакеты обновляются редко.

    ![История версий на странице сведений о пакете](media/Finding-04-VersionHistory.png)

- *Недавние установки*. На странице пакета в разделе **Статистика** выберите **Показать полную статистику**. На странице полной статистики будет показано число установок пакета за последние шесть недель по номеру версии. В большинстве случаев лучше предпочесть пакет, который другие разработчики используют более активно.

- *Поддержка.* На странице пакета в разделе **Сведения** выберите **Сайт проекта** (если доступен), чтобы просмотреть предоставленные автором варианты поддержки. Как правило, проект с собственным сайтом поддерживается лучше.

- *История разработчика*. На странице пакета в разделе **Владельцы** можно выбрать владельца пакета и ознакомиться с другими опубликованными им пакетами. Разработчики, в активе которых множество пакетов, с большей долей вероятности продолжат их поддержку в будущем.

- *Вклад разработчиков открытого исходного кода*. Многие пакеты хранятся в репозиториях с открытым исходным кодом, благодаря чему использующие их разработчики могут непосредственно участвовать в устранении ошибок и улучшении их функциональных возможностей. История вклада других разработчиков также является хорошим показателем качества пакета.

- *Опрос владельцев*. Новые разработчики также стремятся к созданию наиболее полезных пакетов, и вы можете помочь им привнести что-то новое в экосистему NuGet. Для этого вы можете связаться напрямую с разработчиком пакета, используя ссылку **Связаться с владельцами** в разделе **Сведения** на странице сведений о пакете. Вполне возможно, что они с радостью помогут вам, предложив решение для ваших задач!

- *Зарезервированные префиксы идентификаторов пакетов*: многие владельцы пакета подают заявку и получают [зарезервированный префикс идентификатора пакета](../nuget-org/id-prefix-reservation.md). Если на сайте [nuget.org](https://www.nuget.org/) или в Visual Studio рядом с идентификатором пакета отображается "галочка", это означает, что владелец пакета соответствует [критериям](../nuget-org/id-prefix-reservation.md#id-prefix-reservation-criteria) резервирования префикса идентификатора. Это означает, что владелец пакета подтвердил свою подлинность и подлинность своих пакетов.

> [!Note]
> Кроме того, учитывайте условия лицензионного соглашения для пакета, которые можно просмотреть по ссылке **Сведения о лицензии** на странице сведений о пакете на веб-сайте nuget.org. Если для пакета не заданы условия лицензии, следует обратиться непосредственно к владельцу пакета по ссылке для **связи с владельцем** на странице пакета. Корпорация Майкрософт не предоставляет вам лицензию на какую-либо интеллектуальную собственность сторонних поставщиков пакетов и не несет ответственность за сведения, предоставляемые третьими лицами.

## <a name="license-url-deprecation"></a>Устаревание элемента licenseUrl
При переходе от использования элемента [licenseUrl](../reference/nuspec.md#licenseurl) к использованию элемента [license](../reference/nuspec.md#license) некоторые клиенты NuGet и веб-каналы NuGet в некоторых случаях могут не отображать сведения о лицензии. Чтобы обеспечить обратную совместимость, URL-адрес лицензии указывает на этот документ с информацией о том, как получить сведения о лицензии в таких случаях.

Если вы попали на эту страницу, щелкнув URL-адрес лицензии в пакете, это значит, что пакет содержит файл лицензии, а также:
* Вы подключены к веб-каналу, который пока не интерпретирует и не отображает новые сведения о лицензии в клиенте. **ИЛИ**
* Вы используете клиент, который пока не интерпретирует и не считывает новые сведения о лицензии, предоставляемые веб-каналом. **ИЛИ**
* Сочетание вышеперечисленного.

Прочесть сведения, содержащиеся в файле лицензии в пакете, можно следующим образом:
1. Скачайте пакет NuGet и распакуйте его содержимое в папку.
1. Откройте файл `.nuspec`, который находится в корневой папке.
1. Он должен иметь такой тег: `<license type="file">license\license.txt</license>`. Это означает, что файл лицензии `license.txt` находится в папке `license`, которая также расположена в корневой папке, созданной при распаковке.
1. Перейдите в папку `license` и откройте файл `license.txt`.

Чтобы получить в MSBuild эквивалент для установки лицензии в `.nuspec`, ознакомьтесь с разделом [Упаковка лицензионного выражения или файла лицензии](../reference/msbuild-targets.md#packing-a-license-expression-or-a-license-file).

## <a name="search-syntax"></a>Синтаксис поиска

Поиск пакетов NuGet на веб-сайте nuget.org, из интерфейса командной строки NuGet и в расширении "Диспетчер пакетов NuGet" в среде Visual Studio осуществляется одинаково. В общем случае поиск осуществляется по ключевым словам и по описанию пакета.

- **Фильтрация**: условие поиска можно применить к конкретному свойству, используя синтаксис `<property>:<term>`, где `<property>` (без учета регистра) может принимать значения `id`, `packageid`, `version`, `title`, `tags`, `author`, `description`, `summary` и `owner`. Можно одновременно искать несколько свойств. При поиске по свойству `id` сопоставляются подстроки, а по свойствам `packageid` и `owner` используется точное совпадение без учета регистра. Примеры:

```
PackageId:jquery             # Match the package ID in an exact, case-insensitive manner

owner:microsoft              # Match the owner in an exact, case-insensitive manner

id:NuGet.Core                # Match any part of the ID property
Id:"Nuget.Core"
ID:jQuery
id:jquery id:ui              # Search for multiple terms in the ID
id:jquery tags:validation    # Search multiple properties

invalid:jquery ui            # Unsupported properties are ignored, so this
                             # is the same as searching on ui
```
