---
title: Объявление пакетов нерекомендуемыми на веб-сайте NuGet.org
description: Подробное описание процесса объявления пакетов нерекомендуемыми и отображения этих сведений в клиентах
author: anangaur
ms.author: anangaur
ms.date: 09/23/2019
ms.topic: conceptual
ms.reviewer: karann-msft
ms.openlocfilehash: 70666ddf9cd7bdc448d29d4235e57bc91e2c003e
ms.sourcegitcommit: 2b50c450cca521681a384aa466ab666679a40213
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/07/2020
ms.locfileid: "74096886"
---
# <a name="deprecating-packages"></a>Объявление пакетов нерекомендуемыми

Пакет можно объявить нерекомендуемым в случае прекращения его поддержки или перевода потребителей на использование другого пакета. 

Процедура объявления пакета нерекомендуемым отличается от **удаления пакета из списка**.
* При **удалении пакета из списка** становится невозможным его обнаружение, так как он будет скрыт в результатах поиска. 
* При **объявлении пакета нерекомендуемым** существующие потребители пакета могут определять его установку или использование в проектах. Кроме того, они могут узнать причину такого объявления и ознакомиться с альтернативным пакетом, предлагаемым его издателем. Пакет, объявляемый нерекомендуемым, не удаляется из списка. 

Издатель может и удалить пакет из списка, и объявить его нерекомендуемым.

## <a name="deprecation-workflow"></a>Процесс объявления пакета нерекомендуемым
1. Чтобы объявить пакет нерекомендуемым, перейдите в раздел **Управление пакетами** и выберите **Объявить нерекомендуемым**.

    ![Переход к параметру объявления пакета нерекомендуемым](media/deprecation-select-option.png)

2. Выберите версию, которую нужно объявить нерекомендуемой. Чтобы объявить нерекомендуемыми все версии, выберите параметр **Выбрать все версии**.

    ![Выбор версий пакета, объявляемых нерекомендуемыми](media/deprecation-select-version.png)

3. Выберите причину объявления пакета нерекомендуемым. Если пакет больше не поддерживается, выберите параметр **Устаревший**. Если в конкретной версии присутствует критическая ошибка, выберите параметр **содержит критические ошибки**. Для любой другой причины выберите **Другое**. Издатель всегда может указать альтернативный рекомендуемый пакет (и версию) и добавить настраиваемое сообщение для владельцев. 

    ![Выбор причин для рекомендации альтернативного пакета и добавление настраиваемого сообщения](media/deprecation-save.png)

> [!Note]
> Настраиваемые сообщения отображаются только на сайте nuget.org. Из клиентов они не выводятся. Сейчас настраиваемые сообщения недоступны в таких клиентах, как `dotnet.exe` и диспетчер пакетов NuGet.

## <a name="client-experience-for-deprecated-packages"></a>Клиентский интерфейс для нерекомендуемых пакетов
После того как пакет объявляется нерекомендуемым, его потребители будут уведомлены об этом следующими способами (в зависимости от используемого клиента).

### <a name="visual-studio"></a>Visual Studio 
*Доступно начиная с Visual Studio 2019 версии 16.3*

В Visual Studio предупреждение об использовании нерекомендуемого пакета выводится на вкладке `Installed`. В нем указывается пакет и приводятся сведения об объявлении его нерекомендуемым (включая причину этого объявления и альтернативный пакет, который можно использовать вместо него, если таковой имеется).

   ![Нерекомендуемые пакеты на вкладке "Установленные" диспетчера пакетов в Visual Studio](media/deprecation-vs.png)

### <a name="dotnetexe"></a>dotnet.exe
*Доступно начиная с пакета SDK для .NET 3.0*

Если вы используете dotnet.exe, в папке решения или проекта можно выполнить команду `dotnet list package --deprecated` для получения списка нерекомендуемых пакетов и сведений об объявлении их нерекомендуемыми.

```
> dotnet list package --deprecated

The following sources were used:
   https://api.nuget.org/v3/index.json

Project `My.Test.Project` has the following deprecated packages
   [netcoreapp3.0]:
   Top-level Package      Resolved   Reason(s)   Alternative
   > My.Sample.Lib        6.0.0      Legacy      My.Awesome.Package

```
