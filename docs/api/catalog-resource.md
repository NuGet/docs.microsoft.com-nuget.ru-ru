---
title: Ресурс каталога, API NuGet v3
description: Каталог — это индекс всех пакетов, созданных и удаленных в nuget.org.
author: joelverhagen
ms.author: jver
ms.date: 10/30/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: 11485f583d6993919f6bb8acabcc87d9e4261975
ms.sourcegitcommit: ee6c3f203648a5561c809db54ebeb1d0f0598b68
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/26/2021
ms.locfileid: "98774152"
---
# <a name="catalog"></a><span data-ttu-id="410a9-103">Каталог</span><span class="sxs-lookup"><span data-stu-id="410a9-103">Catalog</span></span>

<span data-ttu-id="410a9-104">**Каталог** — это ресурс, в котором записываются все операции пакета в источнике пакета, такие как создание и удаление.</span><span class="sxs-lookup"><span data-stu-id="410a9-104">The **catalog** is a resource that records all package operations on a package source, such as creations and deletions.</span></span> <span data-ttu-id="410a9-105">Ресурс каталога имеет `Catalog` тип в [индексе службы](service-index.md).</span><span class="sxs-lookup"><span data-stu-id="410a9-105">The catalog resource has the `Catalog` type in the [service index](service-index.md).</span></span> <span data-ttu-id="410a9-106">Этот ресурс можно использовать для [запроса всех опубликованных пакетов](../guides/api/query-for-all-published-packages.md).</span><span class="sxs-lookup"><span data-stu-id="410a9-106">You can use this resource to [query for all published packages](../guides/api/query-for-all-published-packages.md).</span></span>

> [!Note]
> <span data-ttu-id="410a9-107">Так как каталог не используется официальным клиентом NuGet, не все источники пакетов реализуют каталог.</span><span class="sxs-lookup"><span data-stu-id="410a9-107">Because the catalog is not used by the official NuGet client, not all package sources implement the catalog.</span></span>

> [!Note]
> <span data-ttu-id="410a9-108">В настоящее время каталог nuget.org недоступен в Китае.</span><span class="sxs-lookup"><span data-stu-id="410a9-108">Currently, the nuget.org catalog is not available in China.</span></span> <span data-ttu-id="410a9-109">Дополнительные сведения см. в разделе [NuGet/нужетгаллери # 4949](https://github.com/NuGet/NuGetGallery/issues/4949).</span><span class="sxs-lookup"><span data-stu-id="410a9-109">For more details, see [NuGet/NuGetGallery#4949](https://github.com/NuGet/NuGetGallery/issues/4949).</span></span>

## <a name="versioning"></a><span data-ttu-id="410a9-110">Управление версиями</span><span class="sxs-lookup"><span data-stu-id="410a9-110">Versioning</span></span>

<span data-ttu-id="410a9-111">Используется следующее `@type` значение:</span><span class="sxs-lookup"><span data-stu-id="410a9-111">The following `@type` value is used:</span></span>

<span data-ttu-id="410a9-112">Значение @type</span><span class="sxs-lookup"><span data-stu-id="410a9-112">@type value</span></span>   | <span data-ttu-id="410a9-113">Примечания</span><span class="sxs-lookup"><span data-stu-id="410a9-113">Notes</span></span>
------------- | -----
<span data-ttu-id="410a9-114">Catalog/3.0.0</span><span class="sxs-lookup"><span data-stu-id="410a9-114">Catalog/3.0.0</span></span> | <span data-ttu-id="410a9-115">Первоначальный выпуск</span><span class="sxs-lookup"><span data-stu-id="410a9-115">The initial release</span></span>

## <a name="base-url"></a><span data-ttu-id="410a9-116">Базовый URL-адрес</span><span class="sxs-lookup"><span data-stu-id="410a9-116">Base URL</span></span>

<span data-ttu-id="410a9-117">URL-адрес точки входа для следующих API-интерфейсов — это значение `@id` свойства, связанного с вышеупомянутыми `@type` значениями ресурсов.</span><span class="sxs-lookup"><span data-stu-id="410a9-117">The entry point URL for the following APIs is the value of the `@id` property associated with the aforementioned resource `@type` values.</span></span> <span data-ttu-id="410a9-118">В этом разделе используется URL-адрес заполнителя `{@id}` .</span><span class="sxs-lookup"><span data-stu-id="410a9-118">This topic uses the placeholder URL `{@id}`.</span></span>

## <a name="http-methods"></a><span data-ttu-id="410a9-119">Методы HTTP</span><span class="sxs-lookup"><span data-stu-id="410a9-119">HTTP methods</span></span>

<span data-ttu-id="410a9-120">Все URL-адреса, найденные в ресурсе каталога, поддерживают только методы HTTP `GET` и `HEAD` .</span><span class="sxs-lookup"><span data-stu-id="410a9-120">All URLs found in the catalog resource support only the HTTP methods `GET` and `HEAD`.</span></span>

## <a name="catalog-index"></a><span data-ttu-id="410a9-121">Индекс каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-121">Catalog index</span></span>

<span data-ttu-id="410a9-122">Индекс каталога — это документ в хорошо известном расположении со списком элементов каталога, упорядоченным в хронологическом порядке.</span><span class="sxs-lookup"><span data-stu-id="410a9-122">The catalog index is a document in a well-known location that has a list of catalog items, ordered chronologically.</span></span> <span data-ttu-id="410a9-123">Это точка входа ресурса каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-123">It is the entry point of the catalog resource.</span></span>

<span data-ttu-id="410a9-124">Индекс состоит из страниц каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-124">The index is comprised of catalog pages.</span></span> <span data-ttu-id="410a9-125">Каждая страница каталога содержит элементы каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-125">Each catalog page contains catalog items.</span></span> <span data-ttu-id="410a9-126">Каждый элемент каталога представляет событие, касающееся одного пакета в момент времени.</span><span class="sxs-lookup"><span data-stu-id="410a9-126">Each catalog item represents an event concerning a single package at a point in time.</span></span> <span data-ttu-id="410a9-127">Элемент каталога может представлять пакет, который был создан, удален из списка, повторно добавлен в него из источника пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-127">A catalog item can represent a package that was created, unlisted, relisted, or deleted from the package source.</span></span> <span data-ttu-id="410a9-128">При обработке элементов каталога в хронологическом порядке Клиент может создать актуальное представление каждого пакета, существующего в источнике пакета v3.</span><span class="sxs-lookup"><span data-stu-id="410a9-128">By processing the catalog items in chronological order, the client can build an up-to-date view of every package that exists on the V3 package source.</span></span>

<span data-ttu-id="410a9-129">Вкратце, большие двоичные объекты каталога имеют следующую иерархическую структуру:</span><span class="sxs-lookup"><span data-stu-id="410a9-129">In short, catalog blobs have the following hierarchical structure:</span></span>

- <span data-ttu-id="410a9-130">**Index**: точка входа для каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-130">**Index**: the entry point for the catalog.</span></span>
- <span data-ttu-id="410a9-131">**Страница**: группирование элементов каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-131">**Page**: a grouping of catalog items.</span></span>
- <span data-ttu-id="410a9-132">**Лист**: документ, представляющий элемент каталога, который является моментальным снимком состояния одного пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-132">**Leaf**: a document representing a catalog item, which is a snapshot of a single package's state.</span></span>

<span data-ttu-id="410a9-133">Каждый объект каталога имеет свойство, которое называется `commitTimeStamp` представлением, когда элемент был добавлен в каталог.</span><span class="sxs-lookup"><span data-stu-id="410a9-133">Each catalog object has a property called the `commitTimeStamp` representing when the item was added to the catalog.</span></span> <span data-ttu-id="410a9-134">Элементы каталога добавляются на страницу каталога пакетами, называемыми фиксациями.</span><span class="sxs-lookup"><span data-stu-id="410a9-134">Catalog items are added to a catalog page in batches called commits.</span></span> <span data-ttu-id="410a9-135">Все элементы каталога в одной фиксации имеют одинаковую отметку времени фиксации ( `commitTimeStamp` ) и идентификатор фиксации ( `commitId` ).</span><span class="sxs-lookup"><span data-stu-id="410a9-135">All catalog items in the same commit have the same commit timestamp (`commitTimeStamp`) and commit ID (`commitId`).</span></span> <span data-ttu-id="410a9-136">Элементы каталога, размещенные в той же фиксации, представляют события, которые произошли около того же момента времени в источнике пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-136">Catalog items placed in the same commit represent events that happened around the same point in time on the package source.</span></span> <span data-ttu-id="410a9-137">В рамках фиксации каталога нет упорядочения.</span><span class="sxs-lookup"><span data-stu-id="410a9-137">There is no ordering within a catalog commit.</span></span>

<span data-ttu-id="410a9-138">Поскольку ИДЕНТИФИКАТОРы и версии каждого пакета уникальны, в фиксации никогда не будет более одного элемента каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-138">Because each package ID and version is unique, there will never be more than one catalog item in a commit.</span></span> <span data-ttu-id="410a9-139">Это гарантирует, что элементы каталога для одного пакета всегда могут быть однозначно упорядочены по отношению к метке времени фиксации.</span><span class="sxs-lookup"><span data-stu-id="410a9-139">This ensures that catalog items for a single package can always be unambiguously ordered with respect to commit timestamp.</span></span>

<span data-ttu-id="410a9-140">В каталоге не может быть больше одной фиксации `commitTimeStamp` .</span><span class="sxs-lookup"><span data-stu-id="410a9-140">There is never be more than one commit to the catalog per `commitTimeStamp`.</span></span> <span data-ttu-id="410a9-141">Иными словами, объект `commitId` является избыточным с помощью `commitTimeStamp` .</span><span class="sxs-lookup"><span data-stu-id="410a9-141">In other words, the `commitId` is redundant with the `commitTimeStamp`.</span></span>

<span data-ttu-id="410a9-142">В отличие от [ресурса метаданных пакета](registration-base-url-resource.md), который индексируется по идентификатору пакета, каталог индексируется (и поддается запросу) только по времени.</span><span class="sxs-lookup"><span data-stu-id="410a9-142">In contrast to the [package metadata resource](registration-base-url-resource.md), which is indexed by package ID, the catalog is indexed (and queryable) only by time.</span></span>

<span data-ttu-id="410a9-143">Элементы каталога всегда добавляются в каталог в монотонно возрастающем хронологическом порядке.</span><span class="sxs-lookup"><span data-stu-id="410a9-143">Catalog items are always added to the catalog in a monotonically increasing, chronological order.</span></span> <span data-ttu-id="410a9-144">Это означает, что если фиксация каталога добавляется во время X, то фиксация каталога никогда не будет добавляться со временем, меньшим или равным X.</span><span class="sxs-lookup"><span data-stu-id="410a9-144">This means that if a catalog commit is added at time X then no catalog commit will ever be added with a time less than or equal to X.</span></span>

<span data-ttu-id="410a9-145">Следующий запрос извлекает индекс каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-145">The following request fetches the catalog index.</span></span>

```
GET {@id}
```

<span data-ttu-id="410a9-146">Индекс каталога — это документ JSON, содержащий объект со следующими свойствами:</span><span class="sxs-lookup"><span data-stu-id="410a9-146">The catalog index is a JSON document that contains an object with the following properties:</span></span>

<span data-ttu-id="410a9-147">Имя</span><span class="sxs-lookup"><span data-stu-id="410a9-147">Name</span></span>            | <span data-ttu-id="410a9-148">Тип</span><span class="sxs-lookup"><span data-stu-id="410a9-148">Type</span></span>             | <span data-ttu-id="410a9-149">Обязательно</span><span class="sxs-lookup"><span data-stu-id="410a9-149">Required</span></span> | <span data-ttu-id="410a9-150">Примечания</span><span class="sxs-lookup"><span data-stu-id="410a9-150">Notes</span></span>
--------------- | ---------------- | -------- | -----
<span data-ttu-id="410a9-151">коммитид</span><span class="sxs-lookup"><span data-stu-id="410a9-151">commitId</span></span>        | <span data-ttu-id="410a9-152">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-152">string</span></span>           | <span data-ttu-id="410a9-153">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-153">yes</span></span>      | <span data-ttu-id="410a9-154">Уникальный идентификатор, связанный с последней фиксацией</span><span class="sxs-lookup"><span data-stu-id="410a9-154">A unique ID associated with the most recent commit</span></span>
<span data-ttu-id="410a9-155">коммиттиместамп</span><span class="sxs-lookup"><span data-stu-id="410a9-155">commitTimeStamp</span></span> | <span data-ttu-id="410a9-156">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-156">string</span></span>           | <span data-ttu-id="410a9-157">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-157">yes</span></span>      | <span data-ttu-id="410a9-158">Метка времени последней фиксации</span><span class="sxs-lookup"><span data-stu-id="410a9-158">A timestamp of the most recent commit</span></span>
<span data-ttu-id="410a9-159">count</span><span class="sxs-lookup"><span data-stu-id="410a9-159">count</span></span>           | <span data-ttu-id="410a9-160">Целое число</span><span class="sxs-lookup"><span data-stu-id="410a9-160">integer</span></span>          | <span data-ttu-id="410a9-161">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-161">yes</span></span>      | <span data-ttu-id="410a9-162">Число страниц в индексе</span><span class="sxs-lookup"><span data-stu-id="410a9-162">The number of pages in the index</span></span>
<span data-ttu-id="410a9-163">items</span><span class="sxs-lookup"><span data-stu-id="410a9-163">items</span></span>           | <span data-ttu-id="410a9-164">массив объектов</span><span class="sxs-lookup"><span data-stu-id="410a9-164">array of objects</span></span> | <span data-ttu-id="410a9-165">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-165">yes</span></span>      | <span data-ttu-id="410a9-166">Массив объектов, каждый объект, представляющий страницу</span><span class="sxs-lookup"><span data-stu-id="410a9-166">A array of objects, each object representing a page</span></span>

<span data-ttu-id="410a9-167">Каждый элемент `items` массива является объектом с минимальными сведениями о каждой странице.</span><span class="sxs-lookup"><span data-stu-id="410a9-167">Each element in the `items` array is an object with some minimal details about each page.</span></span> <span data-ttu-id="410a9-168">Эти объекты страницы не содержат конечных объектов каталога (элементов).</span><span class="sxs-lookup"><span data-stu-id="410a9-168">These page objects do not contain the catalog leaves (items).</span></span> <span data-ttu-id="410a9-169">Порядок элементов в этом массиве не определен.</span><span class="sxs-lookup"><span data-stu-id="410a9-169">The order of the elements in this array is not defined.</span></span> <span data-ttu-id="410a9-170">Страницы могут быть упорядочены по клиенту в памяти с помощью их `commitTimeStamp` Свойства.</span><span class="sxs-lookup"><span data-stu-id="410a9-170">Pages can be ordered by the client in memory using their `commitTimeStamp` property.</span></span>

<span data-ttu-id="410a9-171">По мере добавления новых страниц значение `count` будет увеличено, а в массиве отобразятся новые объекты `items` .</span><span class="sxs-lookup"><span data-stu-id="410a9-171">As new pages are introduced, the `count` will be incremented and new objects will appear in the `items` array.</span></span>

<span data-ttu-id="410a9-172">Когда элементы добавляются в каталог, индекс изменится и увеличится `commitId` `commitTimeStamp` .</span><span class="sxs-lookup"><span data-stu-id="410a9-172">As items are added to the catalog, the index's `commitId` will change and the `commitTimeStamp` will increase.</span></span> <span data-ttu-id="410a9-173">Эти два свойства, по сути, представляют собой сводку по всем страницам `commitId` и `commitTimeStamp` значениям в `items` массиве.</span><span class="sxs-lookup"><span data-stu-id="410a9-173">These two properties are essentially a summary over all page `commitId` and `commitTimeStamp` values in the `items` array.</span></span>

### <a name="catalog-page-object-in-the-index"></a><span data-ttu-id="410a9-174">Объект страницы каталога в индексе</span><span class="sxs-lookup"><span data-stu-id="410a9-174">Catalog page object in the index</span></span>

<span data-ttu-id="410a9-175">Объекты страницы каталога, найденные в свойстве индекса каталога, `items` имеют следующие свойства.</span><span class="sxs-lookup"><span data-stu-id="410a9-175">The catalog page objects found in the catalog index's `items` property have the following properties:</span></span>

<span data-ttu-id="410a9-176">Имя</span><span class="sxs-lookup"><span data-stu-id="410a9-176">Name</span></span>            | <span data-ttu-id="410a9-177">Тип</span><span class="sxs-lookup"><span data-stu-id="410a9-177">Type</span></span>    | <span data-ttu-id="410a9-178">Обязательно</span><span class="sxs-lookup"><span data-stu-id="410a9-178">Required</span></span> | <span data-ttu-id="410a9-179">Примечания</span><span class="sxs-lookup"><span data-stu-id="410a9-179">Notes</span></span>
--------------- | ------- | -------- | -----
@id             | <span data-ttu-id="410a9-180">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-180">string</span></span>  | <span data-ttu-id="410a9-181">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-181">yes</span></span>      | <span data-ttu-id="410a9-182">Страница "URL-адрес для выборки каталога"</span><span class="sxs-lookup"><span data-stu-id="410a9-182">The URL to fetch catalog page</span></span>
<span data-ttu-id="410a9-183">коммитид</span><span class="sxs-lookup"><span data-stu-id="410a9-183">commitId</span></span>        | <span data-ttu-id="410a9-184">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-184">string</span></span>  | <span data-ttu-id="410a9-185">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-185">yes</span></span>      | <span data-ttu-id="410a9-186">Уникальный идентификатор, связанный с последней фиксацией на этой странице</span><span class="sxs-lookup"><span data-stu-id="410a9-186">A unique ID associated with the most recent commit in this page</span></span>
<span data-ttu-id="410a9-187">коммиттиместамп</span><span class="sxs-lookup"><span data-stu-id="410a9-187">commitTimeStamp</span></span> | <span data-ttu-id="410a9-188">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-188">string</span></span>  | <span data-ttu-id="410a9-189">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-189">yes</span></span>      | <span data-ttu-id="410a9-190">Метка времени последней фиксации на этой странице</span><span class="sxs-lookup"><span data-stu-id="410a9-190">A timestamp of the most recent commit in this page</span></span>
<span data-ttu-id="410a9-191">count</span><span class="sxs-lookup"><span data-stu-id="410a9-191">count</span></span>           | <span data-ttu-id="410a9-192">Целое число</span><span class="sxs-lookup"><span data-stu-id="410a9-192">integer</span></span> | <span data-ttu-id="410a9-193">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-193">yes</span></span>      | <span data-ttu-id="410a9-194">Число элементов на странице каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-194">The number of items in the catalog page</span></span>

<span data-ttu-id="410a9-195">В отличие от [ресурса метаданных пакета](registration-base-url-resource.md) , который в некоторых случаях покидает индекс, листья каталога никогда не встроены в индекс и всегда должны быть получены с помощью `@id` URL-адреса страницы.</span><span class="sxs-lookup"><span data-stu-id="410a9-195">In contrast to the [package metadata resource](registration-base-url-resource.md) which in some cases inlines leaves into the index, catalog leaves are never inlined into the index and must always be fetched by using the page's `@id` URL.</span></span>

### <a name="sample-request"></a><span data-ttu-id="410a9-196">Пример запроса</span><span class="sxs-lookup"><span data-stu-id="410a9-196">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/index.json
```

### <a name="sample-response"></a><span data-ttu-id="410a9-197">Пример ответа</span><span class="sxs-lookup"><span data-stu-id="410a9-197">Sample response</span></span>

[!code-JSON [catalog-index.json](./_data/catalog-index.json)]

## <a name="catalog-page"></a><span data-ttu-id="410a9-198">Страница каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-198">Catalog page</span></span>

<span data-ttu-id="410a9-199">Страница каталога представляет собой коллекцию элементов каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-199">The catalog page is a collection of catalog items.</span></span> <span data-ttu-id="410a9-200">Это документ, полученный с использованием одного из `@id` значений, найденных в индексе каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-200">It is a document fetched using one of the `@id` values found in the catalog index.</span></span> <span data-ttu-id="410a9-201">URL-адрес страницы каталога не предназначен для прогнозирования и должен обнаруживаться только по индексу каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-201">The URL to a catalog page is not intended to be predictable and should be discovered using only the catalog index.</span></span>

<span data-ttu-id="410a9-202">Новые элементы каталога добавляются на страницу в индексе каталога только с наибольшей отметкой времени фиксации или с новой страницей.</span><span class="sxs-lookup"><span data-stu-id="410a9-202">New catalog items are added to the page in the catalog index only with the highest commit timestamp or to a new page.</span></span> <span data-ttu-id="410a9-203">После добавления страницы с более высокой отметкой времени фиксации в каталог старые страницы никогда не добавляются и не изменяются.</span><span class="sxs-lookup"><span data-stu-id="410a9-203">Once a page with a higher commit timestamp is added to the catalog, older pages are never added to or changed.</span></span>

<span data-ttu-id="410a9-204">Документ страницы каталога является объектом JSON со следующими свойствами:</span><span class="sxs-lookup"><span data-stu-id="410a9-204">The catalog page document is a JSON object with the following properties:</span></span>

<span data-ttu-id="410a9-205">Имя</span><span class="sxs-lookup"><span data-stu-id="410a9-205">Name</span></span>            | <span data-ttu-id="410a9-206">Тип</span><span class="sxs-lookup"><span data-stu-id="410a9-206">Type</span></span>             | <span data-ttu-id="410a9-207">Обязательно</span><span class="sxs-lookup"><span data-stu-id="410a9-207">Required</span></span> | <span data-ttu-id="410a9-208">Примечания</span><span class="sxs-lookup"><span data-stu-id="410a9-208">Notes</span></span>
--------------- | ---------------- | -------- | -----
<span data-ttu-id="410a9-209">коммитид</span><span class="sxs-lookup"><span data-stu-id="410a9-209">commitId</span></span>        | <span data-ttu-id="410a9-210">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-210">string</span></span>           | <span data-ttu-id="410a9-211">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-211">yes</span></span>      | <span data-ttu-id="410a9-212">Уникальный идентификатор, связанный с последней фиксацией на этой странице</span><span class="sxs-lookup"><span data-stu-id="410a9-212">A unique ID associated with the most recent commit in this page</span></span>
<span data-ttu-id="410a9-213">коммиттиместамп</span><span class="sxs-lookup"><span data-stu-id="410a9-213">commitTimeStamp</span></span> | <span data-ttu-id="410a9-214">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-214">string</span></span>           | <span data-ttu-id="410a9-215">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-215">yes</span></span>      | <span data-ttu-id="410a9-216">Метка времени последней фиксации на этой странице</span><span class="sxs-lookup"><span data-stu-id="410a9-216">A timestamp of the most recent commit in this page</span></span>
<span data-ttu-id="410a9-217">count</span><span class="sxs-lookup"><span data-stu-id="410a9-217">count</span></span>           | <span data-ttu-id="410a9-218">Целое число</span><span class="sxs-lookup"><span data-stu-id="410a9-218">integer</span></span>          | <span data-ttu-id="410a9-219">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-219">yes</span></span>      | <span data-ttu-id="410a9-220">Число элементов на странице</span><span class="sxs-lookup"><span data-stu-id="410a9-220">The number of items in the page</span></span>
<span data-ttu-id="410a9-221">items</span><span class="sxs-lookup"><span data-stu-id="410a9-221">items</span></span>           | <span data-ttu-id="410a9-222">массив объектов</span><span class="sxs-lookup"><span data-stu-id="410a9-222">array of objects</span></span> | <span data-ttu-id="410a9-223">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-223">yes</span></span>      | <span data-ttu-id="410a9-224">Элементы каталога на этой странице</span><span class="sxs-lookup"><span data-stu-id="410a9-224">The catalog items in this page</span></span>
<span data-ttu-id="410a9-225">родитель</span><span class="sxs-lookup"><span data-stu-id="410a9-225">parent</span></span>          | <span data-ttu-id="410a9-226">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-226">string</span></span>           | <span data-ttu-id="410a9-227">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-227">yes</span></span>      | <span data-ttu-id="410a9-228">URL-адрес индекса каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-228">A URL to the catalog index</span></span>

<span data-ttu-id="410a9-229">Каждый элемент `items` массива является объектом с минимальными сведениями об элементе каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-229">Each element in the `items` array is an object with some minimal details about the catalog item.</span></span> <span data-ttu-id="410a9-230">Эти объекты элементов не содержат все данные элемента каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-230">These item objects do not contain all of the catalog item's data.</span></span> <span data-ttu-id="410a9-231">Порядок элементов в `items` массиве страницы не определен.</span><span class="sxs-lookup"><span data-stu-id="410a9-231">The order of the items in the page's `items` array is not defined.</span></span> <span data-ttu-id="410a9-232">Элементы могут упорядочиваться по клиенту в памяти с помощью их `commitTimeStamp` Свойства.</span><span class="sxs-lookup"><span data-stu-id="410a9-232">Items can be ordered by the client in memory using their `commitTimeStamp` property.</span></span>

<span data-ttu-id="410a9-233">Количество элементов каталога на странице определяется реализацией сервера.</span><span class="sxs-lookup"><span data-stu-id="410a9-233">The number of catalog items in a page is defined by server implementation.</span></span> <span data-ttu-id="410a9-234">Для nuget.org существует не более 550 элементов на каждой странице, хотя фактическое число для некоторых страниц может быть меньше, в зависимости от размера следующего пакета фиксации на момент времени.</span><span class="sxs-lookup"><span data-stu-id="410a9-234">For nuget.org, there are at most 550 items in each page, although the actual number may be smaller for some pages depending on the size of the next commit batch at the point in time.</span></span>

<span data-ttu-id="410a9-235">По мере добавления новых элементов в `count` массив появятся новые объекты элементов каталога `items` .</span><span class="sxs-lookup"><span data-stu-id="410a9-235">As new items are introduced, the `count` is incremented and new catalog item objects appear in the `items` array.</span></span>

<span data-ttu-id="410a9-236">По мере добавления элементов на страницу `commitId` изменения и `commitTimeStamp` увеличиваются.</span><span class="sxs-lookup"><span data-stu-id="410a9-236">As items are added to the page, the `commitId` changes and the `commitTimeStamp` increases.</span></span> <span data-ttu-id="410a9-237">Эти два свойства, по сути, представляют собой сводку по всем `commitId` `commitTimeStamp` значениям и в `items` массиве.</span><span class="sxs-lookup"><span data-stu-id="410a9-237">These two properties are essentially a summary over all `commitId` and `commitTimeStamp` values in the `items` array.</span></span>

### <a name="catalog-item-object-in-a-page"></a><span data-ttu-id="410a9-238">Объект элемента каталога на странице</span><span class="sxs-lookup"><span data-stu-id="410a9-238">Catalog item object in a page</span></span>

<span data-ttu-id="410a9-239">Объекты элементов каталога, найденные в свойстве страницы каталога, `items` имеют следующие свойства.</span><span class="sxs-lookup"><span data-stu-id="410a9-239">The catalog item objects found in the catalog page's `items` property have the following properties:</span></span>

<span data-ttu-id="410a9-240">Имя</span><span class="sxs-lookup"><span data-stu-id="410a9-240">Name</span></span>            | <span data-ttu-id="410a9-241">Тип</span><span class="sxs-lookup"><span data-stu-id="410a9-241">Type</span></span>    | <span data-ttu-id="410a9-242">Обязательно</span><span class="sxs-lookup"><span data-stu-id="410a9-242">Required</span></span> | <span data-ttu-id="410a9-243">Примечания</span><span class="sxs-lookup"><span data-stu-id="410a9-243">Notes</span></span>
--------------- | ------- | -------- | -----
@id             | <span data-ttu-id="410a9-244">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-244">string</span></span>  | <span data-ttu-id="410a9-245">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-245">yes</span></span>      | <span data-ttu-id="410a9-246">URL-адрес для выборки элемента каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-246">The URL to fetch the catalog item</span></span>
@type           | <span data-ttu-id="410a9-247">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-247">string</span></span>  | <span data-ttu-id="410a9-248">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-248">yes</span></span>      | <span data-ttu-id="410a9-249">Тип элемента каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-249">The type of the catalog item</span></span>
<span data-ttu-id="410a9-250">коммитид</span><span class="sxs-lookup"><span data-stu-id="410a9-250">commitId</span></span>        | <span data-ttu-id="410a9-251">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-251">string</span></span>  | <span data-ttu-id="410a9-252">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-252">yes</span></span>      | <span data-ttu-id="410a9-253">Идентификатор фиксации, связанный с этим элементом каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-253">The commit ID associated with this catalog item</span></span>
<span data-ttu-id="410a9-254">коммиттиместамп</span><span class="sxs-lookup"><span data-stu-id="410a9-254">commitTimeStamp</span></span> | <span data-ttu-id="410a9-255">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-255">string</span></span>  | <span data-ttu-id="410a9-256">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-256">yes</span></span>      | <span data-ttu-id="410a9-257">Метка времени фиксации этого элемента каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-257">The commit timestamp of this catalog item</span></span>
<span data-ttu-id="410a9-258">NuGet: ИД</span><span class="sxs-lookup"><span data-stu-id="410a9-258">nuget:id</span></span>        | <span data-ttu-id="410a9-259">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-259">string</span></span>  | <span data-ttu-id="410a9-260">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-260">yes</span></span>      | <span data-ttu-id="410a9-261">Идентификатор пакета, с которым связан этот конечный объект</span><span class="sxs-lookup"><span data-stu-id="410a9-261">The package ID that this leaf is related to</span></span>
<span data-ttu-id="410a9-262">NuGet: версия</span><span class="sxs-lookup"><span data-stu-id="410a9-262">nuget:version</span></span>   | <span data-ttu-id="410a9-263">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-263">string</span></span>  | <span data-ttu-id="410a9-264">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-264">yes</span></span>      | <span data-ttu-id="410a9-265">Версия пакета, с которой связан этот конечный объект</span><span class="sxs-lookup"><span data-stu-id="410a9-265">The package version that this leaf is related to</span></span>

<span data-ttu-id="410a9-266">`@type`Значением будет одно из следующих двух значений:</span><span class="sxs-lookup"><span data-stu-id="410a9-266">The `@type` value will be one of the following two values:</span></span>

1. <span data-ttu-id="410a9-267">`nuget:PackageDetails`— соответствует `PackageDetails` типу в конечном документе каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-267">`nuget:PackageDetails`: this corresponds to `PackageDetails` type in the catalog leaf document.</span></span>
1. <span data-ttu-id="410a9-268">`nuget:PackageDelete`— соответствует `PackageDelete` типу в конечном документе каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-268">`nuget:PackageDelete`: this corresponds to the `PackageDelete` type in the catalog leaf document.</span></span>

<span data-ttu-id="410a9-269">Дополнительные сведения о том, что означает каждый тип, см. в разделе [соответствующий тип элементов](#item-types) ниже.</span><span class="sxs-lookup"><span data-stu-id="410a9-269">For more details about what each type means, see the [corresponding items type](#item-types) below.</span></span>

### <a name="sample-request"></a><span data-ttu-id="410a9-270">Пример запроса</span><span class="sxs-lookup"><span data-stu-id="410a9-270">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/page2926.json
```

### <a name="sample-response"></a><span data-ttu-id="410a9-271">Пример ответа</span><span class="sxs-lookup"><span data-stu-id="410a9-271">Sample response</span></span>

[!code-JSON [catalog-page.json](./_data/catalog-page.json)]

## <a name="catalog-leaf"></a><span data-ttu-id="410a9-272">Конечный каталог</span><span class="sxs-lookup"><span data-stu-id="410a9-272">Catalog leaf</span></span>

<span data-ttu-id="410a9-273">Конечный объект каталога содержит метаданные об определенном ИДЕНТИФИКАТОРе и версии пакета в определенный момент времени.</span><span class="sxs-lookup"><span data-stu-id="410a9-273">The catalog leaf contains metadata about a specific package ID and version at some point in time.</span></span> <span data-ttu-id="410a9-274">Это документ, полученный с использованием `@id` значения, найденного на странице каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-274">It is a document fetched using the `@id` value found in a catalog page.</span></span> <span data-ttu-id="410a9-275">URL-адрес конечного каталога не предназначен для прогнозирования и должен быть обнаружен с использованием только страницы каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-275">The URL to a catalog leaf is not intended to be predictable and should be discovered using only a catalog page.</span></span>

<span data-ttu-id="410a9-276">Конечный документ каталога — это объект JSON со следующими свойствами:</span><span class="sxs-lookup"><span data-stu-id="410a9-276">The catalog leaf document is a JSON object with the following properties:</span></span>

<span data-ttu-id="410a9-277">Имя</span><span class="sxs-lookup"><span data-stu-id="410a9-277">Name</span></span>                    | <span data-ttu-id="410a9-278">Тип</span><span class="sxs-lookup"><span data-stu-id="410a9-278">Type</span></span>                       | <span data-ttu-id="410a9-279">Обязательно</span><span class="sxs-lookup"><span data-stu-id="410a9-279">Required</span></span> | <span data-ttu-id="410a9-280">Примечания</span><span class="sxs-lookup"><span data-stu-id="410a9-280">Notes</span></span>
----------------------- | -------------------------- | -------- | -----
@type                   | <span data-ttu-id="410a9-281">строка или массив строк</span><span class="sxs-lookup"><span data-stu-id="410a9-281">string or array of strings</span></span> | <span data-ttu-id="410a9-282">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-282">yes</span></span>      | <span data-ttu-id="410a9-283">Типы элемента каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-283">The type(s) of the catalog item</span></span>
<span data-ttu-id="410a9-284">Каталог: Коммитид</span><span class="sxs-lookup"><span data-stu-id="410a9-284">catalog:commitId</span></span>        | <span data-ttu-id="410a9-285">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-285">string</span></span>                     | <span data-ttu-id="410a9-286">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-286">yes</span></span>      | <span data-ttu-id="410a9-287">Идентификатор фиксации, связанный с этим элементом каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-287">A commit ID associated with this catalog item</span></span>
<span data-ttu-id="410a9-288">Каталог: Коммиттиместамп</span><span class="sxs-lookup"><span data-stu-id="410a9-288">catalog:commitTimeStamp</span></span> | <span data-ttu-id="410a9-289">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-289">string</span></span>                     | <span data-ttu-id="410a9-290">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-290">yes</span></span>      | <span data-ttu-id="410a9-291">Метка времени фиксации этого элемента каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-291">The commit timestamp of this catalog item</span></span>
<span data-ttu-id="410a9-292">идентификатор</span><span class="sxs-lookup"><span data-stu-id="410a9-292">id</span></span>                      | <span data-ttu-id="410a9-293">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-293">string</span></span>                     | <span data-ttu-id="410a9-294">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-294">yes</span></span>      | <span data-ttu-id="410a9-295">Идентификатор пакета для элемента каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-295">The package ID of the catalog item</span></span>
<span data-ttu-id="410a9-296">published</span><span class="sxs-lookup"><span data-stu-id="410a9-296">published</span></span>               | <span data-ttu-id="410a9-297">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-297">string</span></span>                     | <span data-ttu-id="410a9-298">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-298">yes</span></span>      | <span data-ttu-id="410a9-299">Дата публикации элемента каталога пакетов</span><span class="sxs-lookup"><span data-stu-id="410a9-299">The published date of the package catalog item</span></span>
<span data-ttu-id="410a9-300">version</span><span class="sxs-lookup"><span data-stu-id="410a9-300">version</span></span>                 | <span data-ttu-id="410a9-301">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-301">string</span></span>                     | <span data-ttu-id="410a9-302">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-302">yes</span></span>      | <span data-ttu-id="410a9-303">Версия пакета для элемента каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-303">The package version of the catalog item</span></span>

### <a name="item-types"></a><span data-ttu-id="410a9-304">Типы элементов</span><span class="sxs-lookup"><span data-stu-id="410a9-304">Item types</span></span>

<span data-ttu-id="410a9-305">`@type`Свойство является строкой или массивом строк.</span><span class="sxs-lookup"><span data-stu-id="410a9-305">The `@type` property is a string or array of strings.</span></span> <span data-ttu-id="410a9-306">Для удобства, если `@type` значение является строкой, оно должно рассматриваться как любой массив размера один.</span><span class="sxs-lookup"><span data-stu-id="410a9-306">For convenience, if the `@type` value is a string, it should be treated as any array of size one.</span></span> <span data-ttu-id="410a9-307">Не все возможные значения для `@type` задокументированы.</span><span class="sxs-lookup"><span data-stu-id="410a9-307">Not all possible values for `@type` are documented.</span></span> <span data-ttu-id="410a9-308">Однако каждый элемент каталога имеет только одно из двух следующих значений строкового типа:</span><span class="sxs-lookup"><span data-stu-id="410a9-308">However, each catalog item has exactly one of the two following string type values:</span></span>

1. <span data-ttu-id="410a9-309">`PackageDetails`— представляет моментальный снимок метаданных пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-309">`PackageDetails`: represents a snapshot of package metadata</span></span>
1. <span data-ttu-id="410a9-310">`PackageDelete`— представляет пакет, который был удален</span><span class="sxs-lookup"><span data-stu-id="410a9-310">`PackageDelete`: represents a package that was deleted</span></span>

### <a name="package-details-catalog-items"></a><span data-ttu-id="410a9-311">Элементы каталога сведений о пакете</span><span class="sxs-lookup"><span data-stu-id="410a9-311">Package details catalog items</span></span>

<span data-ttu-id="410a9-312">Элементы каталога с типом `PackageDetails` содержат моментальный снимок метаданных пакета для определенного пакета (сочетание идентификатора и версии).</span><span class="sxs-lookup"><span data-stu-id="410a9-312">Catalog items with the type `PackageDetails` contain a snapshot of package metadata for a specific package (ID and version combination).</span></span> <span data-ttu-id="410a9-313">Элемент каталога сведений о пакете создается, когда в источнике пакета встречается один из следующих сценариев.</span><span class="sxs-lookup"><span data-stu-id="410a9-313">A package details catalog item is produced when a package source encounters any of the following scenarios:</span></span>

1. <span data-ttu-id="410a9-314">Пакет **отправлен**.</span><span class="sxs-lookup"><span data-stu-id="410a9-314">A package is **pushed**.</span></span>
1. <span data-ttu-id="410a9-315">Пакет указан в **списке**.</span><span class="sxs-lookup"><span data-stu-id="410a9-315">A package is **listed**.</span></span>
1. <span data-ttu-id="410a9-316">Пакет не входит в **список**.</span><span class="sxs-lookup"><span data-stu-id="410a9-316">A package is **unlisted**.</span></span>
1. <span data-ttu-id="410a9-317">Пакет **переполняется**.</span><span class="sxs-lookup"><span data-stu-id="410a9-317">A package is **reflowed**.</span></span>

<span data-ttu-id="410a9-318">Перекомпоновка пакетов — это административный жест, который по сути создает фиктивную принудительную отправку существующего пакета без изменений самого пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-318">A package reflow is an administrative gesture that essentially generates a fake push of an existing package with no changes to the package itself.</span></span> <span data-ttu-id="410a9-319">В nuget.org используется перекомпоновка после исправления ошибки в одном из фоновых заданий, использующих каталог.</span><span class="sxs-lookup"><span data-stu-id="410a9-319">On nuget.org, a reflow is used after fixing a bug in one of the background jobs which consume the catalog.</span></span>

<span data-ttu-id="410a9-320">Клиенты, использующие элементы каталога, не должны пытаться определить, какой из этих сценариев создал элемент каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-320">Clients consuming the catalog items should not attempt to determine which of these scenarios produced the catalog item.</span></span> <span data-ttu-id="410a9-321">Вместо этого клиент должен просто обновить любое сохраненное представление или индекс с метаданными, содержащимися в элементе каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-321">Instead, the client should simply update any maintained view or index with the metadata contained in the catalog item.</span></span> <span data-ttu-id="410a9-322">Более того, повторяющиеся или избыточные элементы каталога должны обрабатываться надлежащим образом (идемпотентно).</span><span class="sxs-lookup"><span data-stu-id="410a9-322">Furthermore, duplicate or redundant catalog items should be handled gracefully (idempotently).</span></span>

<span data-ttu-id="410a9-323">Элементы каталога сведений о пакете имеют следующие свойства в дополнение к тем, которые [включены во все листья каталога](#catalog-leaf).</span><span class="sxs-lookup"><span data-stu-id="410a9-323">Package details catalog items have the following properties in addition to those [included on all catalog leaves](#catalog-leaf).</span></span>

<span data-ttu-id="410a9-324">Имя</span><span class="sxs-lookup"><span data-stu-id="410a9-324">Name</span></span>                    | <span data-ttu-id="410a9-325">Тип</span><span class="sxs-lookup"><span data-stu-id="410a9-325">Type</span></span>                       | <span data-ttu-id="410a9-326">Обязательно</span><span class="sxs-lookup"><span data-stu-id="410a9-326">Required</span></span> | <span data-ttu-id="410a9-327">Примечания</span><span class="sxs-lookup"><span data-stu-id="410a9-327">Notes</span></span>
----------------------- | -------------------------- | -------- | -----
<span data-ttu-id="410a9-328">authors</span><span class="sxs-lookup"><span data-stu-id="410a9-328">authors</span></span>                 | <span data-ttu-id="410a9-329">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-329">string</span></span>                     | <span data-ttu-id="410a9-330">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-330">no</span></span>       |
<span data-ttu-id="410a9-331">created</span><span class="sxs-lookup"><span data-stu-id="410a9-331">created</span></span>                 | <span data-ttu-id="410a9-332">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-332">string</span></span>                     | <span data-ttu-id="410a9-333">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-333">no</span></span>       | <span data-ttu-id="410a9-334">Метка времени, когда пакет был создан впервые.</span><span class="sxs-lookup"><span data-stu-id="410a9-334">A timestamp of when the package was first created.</span></span> <span data-ttu-id="410a9-335">Резервное свойство: `published` .</span><span class="sxs-lookup"><span data-stu-id="410a9-335">Fallback property: `published`.</span></span>
<span data-ttu-id="410a9-336">депенденциграупс</span><span class="sxs-lookup"><span data-stu-id="410a9-336">dependencyGroups</span></span>        | <span data-ttu-id="410a9-337">массив объектов</span><span class="sxs-lookup"><span data-stu-id="410a9-337">array of objects</span></span>           | <span data-ttu-id="410a9-338">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-338">no</span></span>       | <span data-ttu-id="410a9-339">Зависимости пакета, сгруппированные по целевой платформе ([тот же формат, что и ресурс метаданных пакета](registration-base-url-resource.md#package-dependency-group));</span><span class="sxs-lookup"><span data-stu-id="410a9-339">The dependencies of the package, grouped by target framework ([same format as the package metadata resource](registration-base-url-resource.md#package-dependency-group))</span></span>
<span data-ttu-id="410a9-340">Deprecation</span><span class="sxs-lookup"><span data-stu-id="410a9-340">deprecation</span></span>             | <span data-ttu-id="410a9-341">object</span><span class="sxs-lookup"><span data-stu-id="410a9-341">object</span></span>                     | <span data-ttu-id="410a9-342">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-342">no</span></span>       | <span data-ttu-id="410a9-343">Прекращение использования, связанное с пакетом ([тот же формат, что и ресурс метаданных пакета](registration-base-url-resource.md#package-deprecation)).</span><span class="sxs-lookup"><span data-stu-id="410a9-343">The deprecation associated with the package ([same format as the package metadata resource](registration-base-url-resource.md#package-deprecation))</span></span>
<span data-ttu-id="410a9-344">description</span><span class="sxs-lookup"><span data-stu-id="410a9-344">description</span></span>             | <span data-ttu-id="410a9-345">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-345">string</span></span>                     | <span data-ttu-id="410a9-346">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-346">no</span></span>       |
<span data-ttu-id="410a9-347">iconUrl</span><span class="sxs-lookup"><span data-stu-id="410a9-347">iconUrl</span></span>                 | <span data-ttu-id="410a9-348">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-348">string</span></span>                     | <span data-ttu-id="410a9-349">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-349">no</span></span>       |
<span data-ttu-id="410a9-350">испререлеасе</span><span class="sxs-lookup"><span data-stu-id="410a9-350">isPrerelease</span></span>            | <span data-ttu-id="410a9-351">Логическое</span><span class="sxs-lookup"><span data-stu-id="410a9-351">boolean</span></span>                    | <span data-ttu-id="410a9-352">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-352">no</span></span>       | <span data-ttu-id="410a9-353">Является ли версия пакета предварительной.</span><span class="sxs-lookup"><span data-stu-id="410a9-353">Whether or not the package version is prerelease.</span></span> <span data-ttu-id="410a9-354">Может быть обнаружено из `version` .</span><span class="sxs-lookup"><span data-stu-id="410a9-354">Can be detected from `version`.</span></span>
<span data-ttu-id="410a9-355">Язык</span><span class="sxs-lookup"><span data-stu-id="410a9-355">language</span></span>                | <span data-ttu-id="410a9-356">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-356">string</span></span>                     | <span data-ttu-id="410a9-357">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-357">no</span></span>       |
<span data-ttu-id="410a9-358">licenseUrl</span><span class="sxs-lookup"><span data-stu-id="410a9-358">licenseUrl</span></span>              | <span data-ttu-id="410a9-359">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-359">string</span></span>                     | <span data-ttu-id="410a9-360">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-360">no</span></span>       |
<span data-ttu-id="410a9-361">перечисленные</span><span class="sxs-lookup"><span data-stu-id="410a9-361">listed</span></span>                  | <span data-ttu-id="410a9-362">Логическое</span><span class="sxs-lookup"><span data-stu-id="410a9-362">boolean</span></span>                    | <span data-ttu-id="410a9-363">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-363">no</span></span>       | <span data-ttu-id="410a9-364">Указывает, указан ли пакет</span><span class="sxs-lookup"><span data-stu-id="410a9-364">Whether or not the package is listed</span></span>
<span data-ttu-id="410a9-365">minClientVersion</span><span class="sxs-lookup"><span data-stu-id="410a9-365">minClientVersion</span></span>        | <span data-ttu-id="410a9-366">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-366">string</span></span>                     | <span data-ttu-id="410a9-367">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-367">no</span></span>       |
<span data-ttu-id="410a9-368">паккажехаш</span><span class="sxs-lookup"><span data-stu-id="410a9-368">packageHash</span></span>             | <span data-ttu-id="410a9-369">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-369">string</span></span>                     | <span data-ttu-id="410a9-370">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-370">yes</span></span>      | <span data-ttu-id="410a9-371">Хэш пакета, кодировка с использованием [стандартного базового 64](https://tools.ietf.org/html/rfc4648#section-4)</span><span class="sxs-lookup"><span data-stu-id="410a9-371">The hash of the package, encoding using [standard base 64](https://tools.ietf.org/html/rfc4648#section-4)</span></span>
<span data-ttu-id="410a9-372">паккажехашалгорисм</span><span class="sxs-lookup"><span data-stu-id="410a9-372">packageHashAlgorithm</span></span>    | <span data-ttu-id="410a9-373">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-373">string</span></span>                     | <span data-ttu-id="410a9-374">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-374">yes</span></span>      |
<span data-ttu-id="410a9-375">паккажесизе</span><span class="sxs-lookup"><span data-stu-id="410a9-375">packageSize</span></span>             | <span data-ttu-id="410a9-376">Целое число</span><span class="sxs-lookup"><span data-stu-id="410a9-376">integer</span></span>                    | <span data-ttu-id="410a9-377">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-377">yes</span></span>      | <span data-ttu-id="410a9-378">Размер пакета. nupkg в байтах</span><span class="sxs-lookup"><span data-stu-id="410a9-378">The size of the package .nupkg in bytes</span></span>
<span data-ttu-id="410a9-379">packageTypes</span><span class="sxs-lookup"><span data-stu-id="410a9-379">packageTypes</span></span>            | <span data-ttu-id="410a9-380">массив объектов</span><span class="sxs-lookup"><span data-stu-id="410a9-380">array of objects</span></span>           | <span data-ttu-id="410a9-381">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-381">no</span></span>       | <span data-ttu-id="410a9-382">Типы пакетов, заданные автором.</span><span class="sxs-lookup"><span data-stu-id="410a9-382">The package types specified by the author.</span></span>
<span data-ttu-id="410a9-383">projectUrl</span><span class="sxs-lookup"><span data-stu-id="410a9-383">projectUrl</span></span>              | <span data-ttu-id="410a9-384">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-384">string</span></span>                     | <span data-ttu-id="410a9-385">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-385">no</span></span>       |
<span data-ttu-id="410a9-386">releaseNotes</span><span class="sxs-lookup"><span data-stu-id="410a9-386">releaseNotes</span></span>            | <span data-ttu-id="410a9-387">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-387">string</span></span>                     | <span data-ttu-id="410a9-388">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-388">no</span></span>       |
<span data-ttu-id="410a9-389">рекуирелиценсеагримент</span><span class="sxs-lookup"><span data-stu-id="410a9-389">requireLicenseAgreement</span></span> | <span data-ttu-id="410a9-390">Логическое</span><span class="sxs-lookup"><span data-stu-id="410a9-390">boolean</span></span>                    | <span data-ttu-id="410a9-391">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-391">no</span></span>       | <span data-ttu-id="410a9-392">Предположить, `false` Если исключен</span><span class="sxs-lookup"><span data-stu-id="410a9-392">Assume `false` if excluded</span></span>
<span data-ttu-id="410a9-393">Итоги</span><span class="sxs-lookup"><span data-stu-id="410a9-393">summary</span></span>                 | <span data-ttu-id="410a9-394">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-394">string</span></span>                     | <span data-ttu-id="410a9-395">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-395">no</span></span>       |
<span data-ttu-id="410a9-396">tags</span><span class="sxs-lookup"><span data-stu-id="410a9-396">tags</span></span>                    | <span data-ttu-id="410a9-397">Массив строк</span><span class="sxs-lookup"><span data-stu-id="410a9-397">array of strings</span></span>           | <span data-ttu-id="410a9-398">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-398">no</span></span>       |
<span data-ttu-id="410a9-399">title</span><span class="sxs-lookup"><span data-stu-id="410a9-399">title</span></span>                   | <span data-ttu-id="410a9-400">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-400">string</span></span>                     | <span data-ttu-id="410a9-401">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-401">no</span></span>       |
<span data-ttu-id="410a9-402">вербатимверсион</span><span class="sxs-lookup"><span data-stu-id="410a9-402">verbatimVersion</span></span>         | <span data-ttu-id="410a9-403">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-403">string</span></span>                     | <span data-ttu-id="410a9-404">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-404">no</span></span>       | <span data-ttu-id="410a9-405">Строка версии, которая изначально была найдена в. nuspec</span><span class="sxs-lookup"><span data-stu-id="410a9-405">The version string as it's originally found in the .nuspec</span></span>

<span data-ttu-id="410a9-406">Свойство package `version` представляет собой строку полной версии после нормализации.</span><span class="sxs-lookup"><span data-stu-id="410a9-406">The package `version` property is the full version string after normalization.</span></span> <span data-ttu-id="410a9-407">Это означает, что здесь можно добавить данные о сборке SemVer 2.0.0.</span><span class="sxs-lookup"><span data-stu-id="410a9-407">This means that SemVer 2.0.0 build data can be included here.</span></span>

<span data-ttu-id="410a9-408">`created`Отметка времени — это момент, когда пакет был впервые получен с помощью источника пакета, что обычно представляет собой короткий промежуток времени перед меткой времени фиксации элемента каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-408">The `created` timestamp is when the package was first received by the package source, which is typically a short time before the catalog item's commit timestamp.</span></span>

<span data-ttu-id="410a9-409">`packageHashAlgorithm`— Это строка, определяемая реализацией сервера, представляющей алгоритм хэширования, используемый для создания `packageHash` .</span><span class="sxs-lookup"><span data-stu-id="410a9-409">The `packageHashAlgorithm` is a string defined by the server implementation representing the hashing algorithm used to produce the `packageHash`.</span></span> <span data-ttu-id="410a9-410">nuget.org всегда использует `packageHashAlgorithm` значение `SHA512` .</span><span class="sxs-lookup"><span data-stu-id="410a9-410">nuget.org always used the `packageHashAlgorithm` value of `SHA512`.</span></span>

<span data-ttu-id="410a9-411">`packageTypes`Свойство будет представлено только в том случае, если тип пакета был указан автором.</span><span class="sxs-lookup"><span data-stu-id="410a9-411">The `packageTypes` property will only be present if a package type was specified by the author.</span></span> <span data-ttu-id="410a9-412">Если он существует, всегда будет иметь хотя бы одну запись (1).</span><span class="sxs-lookup"><span data-stu-id="410a9-412">If it is present, it will always have at least one (1) entry.</span></span> <span data-ttu-id="410a9-413">Каждый элемент `packageTypes` массива является объектом JSON со следующими свойствами:</span><span class="sxs-lookup"><span data-stu-id="410a9-413">Each item in the `packageTypes` array is a JSON object with the following properties:</span></span>

<span data-ttu-id="410a9-414">Имя</span><span class="sxs-lookup"><span data-stu-id="410a9-414">Name</span></span>      | <span data-ttu-id="410a9-415">Тип</span><span class="sxs-lookup"><span data-stu-id="410a9-415">Type</span></span>    | <span data-ttu-id="410a9-416">Обязательно</span><span class="sxs-lookup"><span data-stu-id="410a9-416">Required</span></span> | <span data-ttu-id="410a9-417">Примечания</span><span class="sxs-lookup"><span data-stu-id="410a9-417">Notes</span></span>
--------- | ------- | -------- | -----
<span data-ttu-id="410a9-418">name</span><span class="sxs-lookup"><span data-stu-id="410a9-418">name</span></span>      | <span data-ttu-id="410a9-419">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-419">string</span></span>  | <span data-ttu-id="410a9-420">yes</span><span class="sxs-lookup"><span data-stu-id="410a9-420">yes</span></span>      | <span data-ttu-id="410a9-421">Имя типа пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-421">The name of the package type.</span></span>
<span data-ttu-id="410a9-422">version</span><span class="sxs-lookup"><span data-stu-id="410a9-422">version</span></span>    | <span data-ttu-id="410a9-423">строка</span><span class="sxs-lookup"><span data-stu-id="410a9-423">string</span></span>  | <span data-ttu-id="410a9-424">нет</span><span class="sxs-lookup"><span data-stu-id="410a9-424">no</span></span>       | <span data-ttu-id="410a9-425">Версия типа пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-425">The version of the package type.</span></span> <span data-ttu-id="410a9-426">Отображается только в том случае, если автор явно указал версию в nuspec.</span><span class="sxs-lookup"><span data-stu-id="410a9-426">Only present if the author explicitly specified a version in the nuspec.</span></span>

<span data-ttu-id="410a9-427">Отметка времени `published` — это время последнего перечисления пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-427">The `published` timestamp is the time when the package was last listed.</span></span>

> [!Note]
> <span data-ttu-id="410a9-428">В nuget.org `published` значение устанавливается равным году 1900, когда пакет удаляется из списка.</span><span class="sxs-lookup"><span data-stu-id="410a9-428">On nuget.org, the `published` value is set to the year 1900 when the package is unlisted.</span></span>

#### <a name="sample-request"></a><span data-ttu-id="410a9-429">Пример запроса</span><span class="sxs-lookup"><span data-stu-id="410a9-429">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/data/2015.02.01.11.18.40/windowsazure.storage.1.0.0.json
```

#### <a name="sample-response"></a><span data-ttu-id="410a9-430">Пример ответа</span><span class="sxs-lookup"><span data-stu-id="410a9-430">Sample response</span></span>

[!code-JSON [catalog-package-details.json](./_data/catalog-package-details.json)]

### <a name="package-delete-catalog-items"></a><span data-ttu-id="410a9-431">Удаление элементов каталога из пакета</span><span class="sxs-lookup"><span data-stu-id="410a9-431">Package delete catalog items</span></span>

<span data-ttu-id="410a9-432">Элементы каталога с типом `PackageDelete` содержат минимальный набор данных, указывающий на клиентов каталога, что пакет был удален из источника пакета и больше недоступен для каких-либо операций с пакетами (например, Restore).</span><span class="sxs-lookup"><span data-stu-id="410a9-432">Catalog items with the type `PackageDelete` contain a minimal set of information indicating to catalog clients that a package has been deleted from the package source and is no longer available for any package operation (such as restore).</span></span>

> [!NOTE]
> <span data-ttu-id="410a9-433">Пакет может быть удален и позже повторно опубликован с использованием того же идентификатора и версии пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-433">It is possible for a package to be deleted and later republished using the same package ID and version.</span></span> <span data-ttu-id="410a9-434">В nuget.org это очень редкий случай, поскольку он нарушает официальное допущение клиента о том, что идентификатор пакета и версия предполагают наличие определенного содержимого пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-434">On nuget.org, this is a very rare case as it breaks the official client's assumption that a package ID and version imply a specific package content.</span></span> <span data-ttu-id="410a9-435">Дополнительные сведения об удалении пакетов в nuget.org см. в [нашей политике](../nuget-org/policies/deleting-packages.md).</span><span class="sxs-lookup"><span data-stu-id="410a9-435">For more information about package deletion on nuget.org, see [our policy](../nuget-org/policies/deleting-packages.md).</span></span>

<span data-ttu-id="410a9-436">Элементы каталога удаления пакета не имеют дополнительных свойств, кроме тех, которые [включены во все листья каталога](#catalog-leaf).</span><span class="sxs-lookup"><span data-stu-id="410a9-436">Package delete catalog items have no additional properties in addition to those [included on all catalog leaves](#catalog-leaf).</span></span>

<span data-ttu-id="410a9-437">`version`Свойство — это исходная строка версии, найденная в пакете. nuspec.</span><span class="sxs-lookup"><span data-stu-id="410a9-437">The `version` property is the original version string found in the package .nuspec.</span></span>

<span data-ttu-id="410a9-438">`published`Свойство — это время удаления пакета, которое обычно представляет собой короткое время перед меткой времени фиксации элемента каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-438">The `published` property is the time when package was deleted, which is typically as short time before the catalog item's commit timestamp.</span></span>

#### <a name="sample-request"></a><span data-ttu-id="410a9-439">Пример запроса</span><span class="sxs-lookup"><span data-stu-id="410a9-439">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/data/2017.11.02.00.40.00/netstandard1.4_lib.1.0.0-test.json
```

#### <a name="sample-response"></a><span data-ttu-id="410a9-440">Пример ответа</span><span class="sxs-lookup"><span data-stu-id="410a9-440">Sample response</span></span>

[!code-JSON [catalog-package-delete.json](./_data/catalog-package-delete.json)]

## <a name="cursor"></a><span data-ttu-id="410a9-441">Курсор</span><span class="sxs-lookup"><span data-stu-id="410a9-441">Cursor</span></span>

### <a name="overview"></a><span data-ttu-id="410a9-442">Обзор</span><span class="sxs-lookup"><span data-stu-id="410a9-442">Overview</span></span>

<span data-ttu-id="410a9-443">В этом разделе описывается концепция клиента, которая, хотя и не обязательно задается протоколом, должна быть частью любой практичной реализации клиента каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-443">This section describes a client concept that, although is not necessarily mandated by the protocol, should be part of any practical catalog client implementation.</span></span>

<span data-ttu-id="410a9-444">Так как каталог является структурой данных только для добавления, индексированной по времени, клиент должен локально сохранить **курсор** , что представляет момент времени, в течение которого клиент обрабатывал элементы каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-444">Because the catalog is an append-only data structure indexed by time, the client should store a **cursor** locally, representing up to what point in time the client has processed catalog items.</span></span> <span data-ttu-id="410a9-445">Обратите внимание, что это значение курсора никогда не должно создаваться с помощью часов компьютера клиента.</span><span class="sxs-lookup"><span data-stu-id="410a9-445">Note that this cursor value should never be generated using the client's machine clock.</span></span> <span data-ttu-id="410a9-446">Вместо этого значение должно быть получено из значения объекта каталога `commitTimestamp` .</span><span class="sxs-lookup"><span data-stu-id="410a9-446">Instead, the value should come from a catalog object's `commitTimestamp` value.</span></span>

<span data-ttu-id="410a9-447">Каждый раз, когда клиент хочет обработать новые события в источнике пакета, ему нужно только запросить каталог для всех элементов каталога с меткой времени фиксации, превышающим сохраненный курсор.</span><span class="sxs-lookup"><span data-stu-id="410a9-447">Every time the client wants to process new events on the package source, it need only query the catalog for all catalog items with a commit timestamp greater than its stored cursor.</span></span> <span data-ttu-id="410a9-448">После успешной обработки клиентом всех новых элементов каталога записывается последняя метка времени фиксации элементов каталога, только что обрабатывалась как новое значение курсора.</span><span class="sxs-lookup"><span data-stu-id="410a9-448">After the client successfully processes all new catalog items, it records the latest commit timestamp of catalog items just processed as its new cursor value.</span></span>

<span data-ttu-id="410a9-449">Используя этот подход, клиент может не пропустить все события пакета, произошедшие в источнике пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-449">Using this approach, the client can be sure to never miss any package events that occurred on the package source.</span></span>
<span data-ttu-id="410a9-450">Кроме того, клиенту никогда не придется повторно обрабатывать старые события до записанной метки времени фиксации курсора.</span><span class="sxs-lookup"><span data-stu-id="410a9-450">Additionally, the client never has to reprocess old events prior to the cursor's recorded commit timestamp.</span></span>

<span data-ttu-id="410a9-451">Эта мощная концепция курсоров используется для многих фоновых заданий nuget.org и используется для обновления самого интерфейса API V3.</span><span class="sxs-lookup"><span data-stu-id="410a9-451">This powerful concept of cursors is used for many of nuget.org background jobs and is used to keep the V3 API itself up-to-date.</span></span> 

### <a name="initial-value"></a><span data-ttu-id="410a9-452">Начальное значение</span><span class="sxs-lookup"><span data-stu-id="410a9-452">Initial value</span></span>

<span data-ttu-id="410a9-453">Когда клиент каталога запускается первый раз (и, следовательно, не имеет значения курсора), он должен использовать значение курсора по умолчанию. NET `System.DateTimeOffset.MinValue` или some, аналогичное понятие минимальной представим метки времени.</span><span class="sxs-lookup"><span data-stu-id="410a9-453">When the catalog client is starting for the very first time (and therefore has no cursor value), it should use a default cursor value of .NET's `System.DateTimeOffset.MinValue` or some such analogous notion of minimum representable timestamp.</span></span>

### <a name="iterating-over-catalog-items"></a><span data-ttu-id="410a9-454">Перебор элементов каталога</span><span class="sxs-lookup"><span data-stu-id="410a9-454">Iterating over catalog items</span></span>

<span data-ttu-id="410a9-455">Чтобы запросить следующий набор элементов каталога для обработки, клиент должен выполнить следующие действия:</span><span class="sxs-lookup"><span data-stu-id="410a9-455">To query for the next set of catalog items to process, the client should:</span></span>

1. <span data-ttu-id="410a9-456">Получение значения записанного курсора из локального хранилища.</span><span class="sxs-lookup"><span data-stu-id="410a9-456">Fetch the recorded cursor value from a local store.</span></span>
1. <span data-ttu-id="410a9-457">Скачайте и десериализует индекс каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-457">Download and deserialize the catalog index.</span></span>
1. <span data-ttu-id="410a9-458">Найти все страницы каталога с меткой времени фиксации *выше* курсора.</span><span class="sxs-lookup"><span data-stu-id="410a9-458">Find all catalog pages with a commit timestamp *greater than* the cursor.</span></span>
1. <span data-ttu-id="410a9-459">Объявите пустой список элементов каталога для обработки.</span><span class="sxs-lookup"><span data-stu-id="410a9-459">Declare an empty list of catalog items to process.</span></span>
1. <span data-ttu-id="410a9-460">Для каждой страницы каталога, сопоставленной на шаге 3:</span><span class="sxs-lookup"><span data-stu-id="410a9-460">For each catalog page matched in step 3:</span></span>
   1. <span data-ttu-id="410a9-461">Скачайте и десериализует страницу каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-461">Download and deserialized the catalog page.</span></span>
   1. <span data-ttu-id="410a9-462">Найти все элементы каталога с меткой времени фиксации *выше* курсора.</span><span class="sxs-lookup"><span data-stu-id="410a9-462">Find all catalog items with a commit timestamp *greater than* the cursor.</span></span>
   1. <span data-ttu-id="410a9-463">Добавьте все совпадающие элементы каталога в список, объявленный на шаге 4.</span><span class="sxs-lookup"><span data-stu-id="410a9-463">Add all matching catalog items to the list declared in step 4.</span></span>
1. <span data-ttu-id="410a9-464">Сортировка списка элементов каталога по метке времени фиксации.</span><span class="sxs-lookup"><span data-stu-id="410a9-464">Sort the catalog item list by commit timestamp.</span></span>
1. <span data-ttu-id="410a9-465">Обрабатывать каждый элемент каталога последовательно:</span><span class="sxs-lookup"><span data-stu-id="410a9-465">Process each catalog item in sequence:</span></span>
   1. <span data-ttu-id="410a9-466">Скачайте и десериализует элемент каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-466">Download and deserialize the catalog item.</span></span>
   1. <span data-ttu-id="410a9-467">Соответствующим образом отреагировать на тип элемента каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-467">React appropriately to the catalog item's type.</span></span>
   1. <span data-ttu-id="410a9-468">Обработка документа элемента каталога с учетом особенностей клиента.</span><span class="sxs-lookup"><span data-stu-id="410a9-468">Process the catalog item document in a client-specific fashion.</span></span>
1. <span data-ttu-id="410a9-469">Запишите метку времени фиксации последнего элемента каталога в качестве нового значения курсора.</span><span class="sxs-lookup"><span data-stu-id="410a9-469">Record the last catalog item's commit timestamp as the new cursor value.</span></span>

<span data-ttu-id="410a9-470">С помощью этого базового алгоритма реализация клиента может создать полное представление всех пакетов, доступных в источнике пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-470">With this basic algorithm, the client implementation can build up a complete view of all packages available on the package source.</span></span> <span data-ttu-id="410a9-471">Клиенту необходимо периодически выполнять этот алгоритм, чтобы всегда знать о последних изменениях в источнике пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-471">The client need only execute this algorithm periodically to always be aware of the latest changes to the package source.</span></span>

> [!Note]
> <span data-ttu-id="410a9-472">Это алгоритм, который nuget.org использует для сохранения [метаданных пакета](registration-base-url-resource.md), [содержимого пакета](package-base-address-resource.md), [поиска](search-query-service-resource.md) и [автозаполнения](search-autocomplete-service-resource.md) ресурсов.</span><span class="sxs-lookup"><span data-stu-id="410a9-472">This is the algorithm that nuget.org uses to keep the [Package Metadata](registration-base-url-resource.md), [Package Content](package-base-address-resource.md), [Search](search-query-service-resource.md) and [Autocomplete](search-autocomplete-service-resource.md) resources up to date.</span></span>

### <a name="dependent-cursors"></a><span data-ttu-id="410a9-473">Зависимые курсоры</span><span class="sxs-lookup"><span data-stu-id="410a9-473">Dependent cursors</span></span>

<span data-ttu-id="410a9-474">Предположим, что существует два клиента каталога, которые имеют определенную зависимость, где выходные данные одного клиента зависят от выходных данных другого клиента.</span><span class="sxs-lookup"><span data-stu-id="410a9-474">Suppose there are two catalog clients that have an inherent dependency where one client's output depends on another client's output.</span></span> 

#### <a name="example"></a><span data-ttu-id="410a9-475">Пример</span><span class="sxs-lookup"><span data-stu-id="410a9-475">Example</span></span>

<span data-ttu-id="410a9-476">Например, в nuget.org только что опубликованный пакет не должен отображаться в ресурсе поиска, прежде чем появится в ресурсе метаданных пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-476">For example, on nuget.org a newly published package should not appear in the search resource before it appears in the package metadata resource.</span></span> <span data-ttu-id="410a9-477">Это связано с тем, что операция восстановления, выполняемая официальным клиентом NuGet, использует ресурс метаданных пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-477">This is because the "restore" operation performed by the official NuGet client uses the package metadata resource.</span></span> <span data-ttu-id="410a9-478">Если клиент обнаруживает пакет с помощью службы поиска, он должен иметь возможность успешно восстановить этот пакет с помощью ресурса метаданных пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-478">If a customer discovers a package using the search service, they should be able to successfully restore that package using the package metadata resource.</span></span> <span data-ttu-id="410a9-479">Иными словами, ресурс поиска зависит от ресурса метаданных пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-479">In other words, the search resource depends on the package metadata resource.</span></span> <span data-ttu-id="410a9-480">Каждый ресурс имеет фоновое задание клиента каталога, которое обновляет этот ресурс.</span><span class="sxs-lookup"><span data-stu-id="410a9-480">Each resource has a catalog client background job updating that resource.</span></span> <span data-ttu-id="410a9-481">Каждый клиент имеет собственный курсор.</span><span class="sxs-lookup"><span data-stu-id="410a9-481">Each client has its own cursor.</span></span>

<span data-ttu-id="410a9-482">Так как оба ресурса создаются из каталога, курсор клиента каталога, который обновляет ресурс поиска, *не должен находиться за* курсором клиента каталога метаданных пакета.</span><span class="sxs-lookup"><span data-stu-id="410a9-482">Since both resources are built off of the catalog, the cursor of the catalog client that updates the search resource *must not go beyond* the cursor of the package metadata catalog client.</span></span>

#### <a name="algorithm"></a><span data-ttu-id="410a9-483">Алгоритм</span><span class="sxs-lookup"><span data-stu-id="410a9-483">Algorithm</span></span>

<span data-ttu-id="410a9-484">Чтобы реализовать это ограничение, просто измените алгоритм выше, чтобы он был следующим:</span><span class="sxs-lookup"><span data-stu-id="410a9-484">To implement this restriction, simply modify the algorithm above to be:</span></span>

1. <span data-ttu-id="410a9-485">Получение значения записанного курсора из локального хранилища.</span><span class="sxs-lookup"><span data-stu-id="410a9-485">Fetch the recorded cursor value from a local store.</span></span>
1. <span data-ttu-id="410a9-486">Скачайте и десериализует индекс каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-486">Download and deserialize the catalog index.</span></span>
1. <span data-ttu-id="410a9-487">Найти все страницы каталога с меткой времени фиксации *больше, чем* курсор, **меньше или равен курсору зависимости.**</span><span class="sxs-lookup"><span data-stu-id="410a9-487">Find all catalog pages with a commit timestamp *greater than* the cursor **less than or equal to the dependency's cursor.**</span></span>
1. <span data-ttu-id="410a9-488">Объявите пустой список элементов каталога для обработки.</span><span class="sxs-lookup"><span data-stu-id="410a9-488">Declare an empty list of catalog items to process.</span></span>
1. <span data-ttu-id="410a9-489">Для каждой страницы каталога, сопоставленной на шаге 3:</span><span class="sxs-lookup"><span data-stu-id="410a9-489">For each catalog page matched in step 3:</span></span>
   1. <span data-ttu-id="410a9-490">Скачайте и десериализует страницу каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-490">Download and deserialized the catalog page.</span></span>
   1. <span data-ttu-id="410a9-491">Найти все элементы каталога с меткой времени фиксации *больше, чем* курсор, **меньше или равен курсору зависимости.**</span><span class="sxs-lookup"><span data-stu-id="410a9-491">Find all catalog items with a commit timestamp *greater than* the cursor **less than or equal to the dependency's cursor.**</span></span>
   1. <span data-ttu-id="410a9-492">Добавьте все совпадающие элементы каталога в список, объявленный на шаге 4.</span><span class="sxs-lookup"><span data-stu-id="410a9-492">Add all matching catalog items to the list declared in step 4.</span></span>
1. <span data-ttu-id="410a9-493">Сортировка списка элементов каталога по метке времени фиксации.</span><span class="sxs-lookup"><span data-stu-id="410a9-493">Sort the catalog item list by commit timestamp.</span></span>
1. <span data-ttu-id="410a9-494">Обрабатывать каждый элемент каталога последовательно:</span><span class="sxs-lookup"><span data-stu-id="410a9-494">Process each catalog item in sequence:</span></span>
   1. <span data-ttu-id="410a9-495">Скачайте и десериализует элемент каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-495">Download and deserialize the catalog item.</span></span>
   1. <span data-ttu-id="410a9-496">Соответствующим образом отреагировать на тип элемента каталога.</span><span class="sxs-lookup"><span data-stu-id="410a9-496">React appropriately to the catalog item's type.</span></span>
   1. <span data-ttu-id="410a9-497">Обработка документа элемента каталога с учетом особенностей клиента.</span><span class="sxs-lookup"><span data-stu-id="410a9-497">Process the catalog item document in a client-specific fashion.</span></span>
1. <span data-ttu-id="410a9-498">Запишите метку времени фиксации последнего элемента каталога в качестве нового значения курсора.</span><span class="sxs-lookup"><span data-stu-id="410a9-498">Record the last catalog item's commit timestamp as the new cursor value.</span></span>

<span data-ttu-id="410a9-499">С помощью этого модифицированного алгоритма можно создать систему клиентов зависимого каталога, создавая свои собственные индексы, артефакты и т. д.</span><span class="sxs-lookup"><span data-stu-id="410a9-499">Using this modified algorithm, you can build a system of dependent catalog clients all producing their own specific indexes, artifacts, etc.</span></span>
