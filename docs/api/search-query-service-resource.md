---
title: Поиск, API NuGet
description: Служба поиска позволяет клиентам запрашивать пакеты по ключевому слову и фильтровать результаты по определенным полям пакета.
author: joelverhagen
ms.author: jver
ms.date: 10/26/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: b898b389ee6c962831ce789a7c304c75e6bd8774
ms.sourcegitcommit: 7441f12f06ca380feb87c6192ec69f6108f43ee3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69488213"
---
# <a name="search"></a>Поиск

Можно выполнять поиск пакетов, доступных в источнике пакета, с помощью API V3. Ресурс, используемый для поиска, — `SearchQueryService` это ресурс, найденный в [индексе службы](service-index.md).

## <a name="versioning"></a>Управление версиями

Используются следующие `@type` значения:

Значение@type                   | Примечания
----------------------------- | -----
сеарчкуерисервице            | Первоначальный выпуск
Сеарчкуерисервице/3.0.0 — бета-версия | Псевдоним`SearchQueryService`
Сеарчкуерисервице/3.0.0-RC   | Псевдоним`SearchQueryService`

## <a name="base-url"></a>Базовый URL-адрес

Базовый URL-адрес для следующего API — это значение `@id` свойства, связанное с одним из вышеупомянутых значений ресурсов. `@type` В следующем документе будет использоваться базовый URL-адрес `{@id}` заполнителя.

## <a name="http-methods"></a>Методы HTTP

Все URL-адреса, найденные в ресурсе регистрации `GET` , `HEAD`поддерживают методы HTTP и.

## <a name="search-for-packages"></a>Поиск пакетов

API поиска позволяет клиенту запрашивать страницу пакетов, соответствующих указанному поисковому запросу. Интерпретация поискового запроса (например, разметка искомых терминов) определяется реализацией сервера, но общее ожидание заключается в том, что поисковый запрос используется для сопоставления идентификаторов пакетов, заголовков, описаний и тегов. Также можно рассмотреть другие поля метаданных пакета.

Без списка пакет никогда не должен отображаться в результатах поиска.

    GET {@id}?q={QUERY}&skip={SKIP}&take={TAKE}&prerelease={PRERELEASE}&semVerLevel={SEMVERLEVEL}

### <a name="request-parameters"></a>Параметры запроса

name        | In     | Тип    | Обязательно | Примечания
----------- | ------ | ------- | -------- | -----
q           | URL    | string  | Нет       | Условия поиска, используемые для фильтрации пакетов
skip        | URL    | целочисленный | Нет       | Число пропускаемых результатов для разбивки на страницы
нимают        | URL    | целочисленный | Нет       | Число возвращаемых результатов для разбивки на страницы
предварительной  | URL    | boolean | Нет       | `true`или `false` определить, следует ли включать [пакеты предварительной версии](../create-packages/prerelease-packages.md)
семверлевел | URL    | string  | Нет       | Строка версии SemVer 1.0.0 

Поисковый запрос `q` анализируется способом, который определяется реализацией сервера. nuget.org поддерживает базовую фильтрацию по [различным полям](../consume-packages/finding-and-choosing-packages.md#search-syntax). Если значение `q` не указано, должны возвращаться все пакеты, находящиеся в границах, накладываемых пропустить и Take. Это позволит открыть вкладку "Обзор" в интерфейсе NuGet в Visual Studio.

Значение `skip` параметра по умолчанию равно 0.

`take` Параметр должен быть целым числом больше нуля. Реализация сервера может накладывать максимальное значение.

Если `prerelease` не указан, пакеты предварительной версии исключаются.

Параметр запроса используется для явного согласия на [пакеты 2.0.0 SemVer.](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29#identifying-semver-v200-packages) `semVerLevel`
Если этот параметр запроса исключен, будут возвращены только пакеты с совместимыми с SemVer 1.0.0 версиями (со стандартными предупреждениями [управления версиями NuGet](../concepts/package-versioning.md) , такими как строки версии с 4 целыми частями).
Если `semVerLevel=2.0.0` указан, будут возвращены совместимые пакеты SemVer 1.0.0 и SemVer 2.0.0. Дополнительные сведения см. в разделе [Поддержка SemVer 2.0.0 для NuGet.org](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29) .

### <a name="response"></a>Отклик

Ответ — это документ JSON, содержащий `take` результаты поиска. Результаты поиска группируются по ИДЕНТИФИКАТОРу пакета.

Корневой объект JSON имеет следующие свойства:

name      | Тип             | Обязательно | Примечания
--------- | ---------------- | -------- | -----
тоталхитс | целочисленный          | да      | Общее число совпадений, неотношении `skip` и`take`
Данные      | Массив объектов | да      | Результаты поиска, соответствующие запросу

### <a name="search-result"></a>Результат поиска

Каждый элемент в `data` массиве представляет собой объект JSON, состоящий из группы версий пакета, использующих один и тот же идентификатор пакета.
Объект имеет следующие свойства:

name           | Тип                       | Обязательно | Примечания
-------------- | -------------------------- | -------- | -----
id             | string                     | да      | Идентификатор сопоставленного пакета
version        | string                     | да      | Полная строка версии SemVer 2.0.0 пакета (может содержать метаданные сборки)
description    | string                     | Нет       | 
версии       | Массив объектов           | да      | Все версии пакета, соответствующие `prerelease` параметру
authors        | строка или массив строк | Нет       | 
iconUrl        | string                     | Нет       | 
licenseUrl     | string                     | Нет       | 
owners         | строка или массив строк | Нет       | 
projectUrl     | string                     | Нет       | 
регистрация   | string                     | Нет       | Абсолютный URL-адрес связанного [индекса регистрации](registration-base-url-resource.md#registration-index)
сводка        | string                     | Нет       | 
теги           | строка или массив строк | Нет       | 
заголовок          | string                     | Нет       | 
тоталдовнлоадс | целочисленный                    | Нет       | Это значение может выводиться суммой загрузок в `versions` массиве.
верификаци       | boolean                    | Нет       | Логическое значение JSON, указывающее, [проверен](../nuget-org/id-prefix-reservation.md) ли пакет

В nuget.org проверенный пакет содержит идентификатор пакета, совпадающий с зарезервированным префиксом идентификатора и принадлежащий одному из владельцев зарезервированного префикса. Дополнительные сведения см. в [документации](../reference/id-prefix-reservation.md)по зарезервированию ПРЕФИКСов идентификаторов.

Метаданные, содержащиеся в объекте результата поиска, берутся из последней версии пакета. Каждый элемент `versions` массива является объектом JSON со следующими свойствами:

name      | Тип    | Обязательно | Примечания
--------- | ------- | -------- | -----
@id       | string  | да      | Абсолютный URL-адрес связанного [конечного листа регистрации](registration-base-url-resource.md#registration-leaf)
version   | string  | да      | Полная строка версии SemVer 2.0.0 пакета (может содержать метаданные сборки)
Интернета | целочисленный | да      | Число Скачиваний для конкретной версии пакета

### <a name="sample-request"></a>Пример запроса

    GET https://api-v2v3search-0.nuget.org/query?q=NuGet.Versioning&prerelease=false

### <a name="sample-response"></a>Пример ответа

[!code-JSON [search-result.json](./_data/search-result.json)]
