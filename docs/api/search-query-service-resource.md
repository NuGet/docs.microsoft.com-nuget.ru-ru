---
title: Поиск API NuGet
description: Служба поиска позволяет клиентам запрашивать пакеты по ключевому слову и чтобы отфильтровать результаты по определенным полям пакета.
author: joelverhagen
ms.author: jver
ms.date: 10/26/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: d462b289c39c2dd1418304dabcad47d0d4217f82
ms.sourcegitcommit: b6810860b77b2d50aab031040b047c20a333aca3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/28/2019
ms.locfileid: "67426732"
---
# <a name="search"></a>Поиск

Это можно выполнить поиск для пакетов, доступных в источнике пакета с помощью V3 API. Ресурс, используемым для поиска является `SearchQueryService` найти ресурс в [индекс службы](service-index.md).

## <a name="versioning"></a>Управление версиями

Следующие `@type` значения используются:

Значение@type                   | Примечания
----------------------------- | -----
SearchQueryService            | Первоначальный выпуск
SearchQueryService/3.0.0-beta | Псевдоним `SearchQueryService`
SearchQueryService/3.0.0-rc   | Псевдоним `SearchQueryService`

## <a name="base-url"></a>Базовый URL-адрес

Базовый URL-адрес для следующего API — это значение `@id` свойства, связанные с одной из упомянутых выше ресурсов `@type` значения. В следующем документе заполнитель базовый URL-адрес `{@id}` будет использоваться.

## <a name="http-methods"></a>Методы HTTP

Все URL-адреса, найден в регистрации ресурсов поддерживают методы HTTP `GET` и `HEAD`.

## <a name="search-for-packages"></a>Поиск пакетов

API поиска позволяет клиенту запроса для страницы пакетов, соответствующих запросу поиска. Интерпретация поискового запроса (например разметки условий поиска) определяется в реализации сервера, но общие ожидается, что поисковый запрос используется для сопоставления идентификаторы пакетов, заголовки, описания и теги. Также могут считаться других полей метаданных пакета.

Исключенным никогда не должны отображаться в результатах поиска.

    GET {@id}?q={QUERY}&skip={SKIP}&take={TAKE}&prerelease={PRERELEASE}&semVerLevel={SEMVERLEVEL}

### <a name="request-parameters"></a>Параметры запроса

name        | Увеличение     | Тип    | Обязательно | Примечания
----------- | ------ | ------- | -------- | -----
q           | URL-адрес    | string  | Нет       | Условия поиска используется для фильтрации пакетов
skip        | URL-адрес    | целочисленный | Нет       | Количество пропускаемых для разбиения на страницы результатов
Take        | URL-адрес    | целочисленный | Нет       | Количество результатов, возвращаемых для разбиения на страницы
Предварительные выпуски  | URL-адрес    | boolean | Нет       | `true` или `false` определения, следует ли включать [пакетов предварительных версий](../create-packages/prerelease-packages.md)
semVerLevel | URL-адрес    | string  | Нет       | Строка версии SemVer 1.0.0 

Поисковый запрос `q` анализируется таким образом, определяется в реализации сервера. NuGet.org поддерживает простая фильтрация на [разные поля](../consume-packages/finding-and-choosing-packages.md#search-syntax). Если нет `q` не указан, все пакеты должны быть возвращены в пределах границ, накладываемые skip и take. Это позволяет на вкладке «Обзор» в системе работы с NuGet для Visual Studio.

`skip` Параметр по умолчанию равен 0.

`take` Параметр должен быть целым числом больше нуля. Реализация сервера может привести к повышению максимальное значение.

Если `prerelease` не указан, исключаются пакеты предварительного выпуска.

`semVerLevel` Параметра запроса используется для согласиться на [SemVer 2.0.0 пакетов](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29#identifying-semver-v200-packages).
Если этот параметр запроса не исключается, будут возвращены только пакеты с SemVer 1.0.0 совместимые версии (с [стандартный управления версиями NuGet](../reference/package-versioning.md) предупреждения, такие как строки версии с 4 частей целого числа).
Если `semVerLevel=2.0.0` не указан, будет возвращено SemVer 1.0.0 и совместимые пакеты SemVer 2.0.0. См. в разделе [поддержки SemVer 2.0.0 для nuget.org](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29) Дополнительные сведения.

### <a name="response"></a>Ответ

Ответ является документ JSON, содержащий до `take` результаты поиска. Результаты поиска группируются по идентификатору пакета.

Корневой объект JSON имеет следующие свойства:

name      | Тип             | Обязательно | Примечания
--------- | ---------------- | -------- | -----
totalHits | целочисленный          | да      | Общее количество совпадений, без учета `skip` и `take`
Данные      | Массив объектов | да      | Результаты поиска, запрос на соответствует

### <a name="search-result"></a>Результат поиска

Каждый элемент в `data` массива представляет собой объект JSON, состоящей из нескольких версий пакета, общий доступ к одним и тем же идентификатором пакета.
Объект имеет следующие свойства:

name           | Тип                       | Обязательно | Примечания
-------------- | -------------------------- | -------- | -----
id             | string                     | да      | Идентификатор пакета, сопоставленной
version        | string                     | да      | Полную строку версии SemVer 2.0.0 пакета (может содержать метаданные сборки)
Описание    | string                     | Нет       | 
версии       | Массив объектов           | да      | Все версии пакетов, соответствующих `prerelease` параметр
authors        | Строка или массив строк | Нет       | 
iconUrl        | string                     | Нет       | 
licenseUrl     | string                     | Нет       | 
owners         | Строка или массив строк | Нет       | 
projectUrl     | string                     | Нет       | 
регистрация   | string                     | Нет       | Абсолютный URL-адрес в связанный [индекс регистрации](registration-base-url-resource.md#registration-index)
сводка        | string                     | Нет       | 
теги           | Строка или массив строк | Нет       | 
заголовок          | string                     | Нет       | 
totalDownloads | целочисленный                    | Нет       | Это значение может быть выведен на сумму загружаемые файлы в `versions` массива
проверить       | boolean                    | Нет       | Логическое значение, указывающее, является ли пакет JSON [проверен](../nuget-org/id-prefix-reservation.md)

На сайте nuget.org проверенного пакета источник, который имеет идентификатор пакета, сопоставления зарезервированный префикс идентификатора и принадлежит одному из владельцев зарезервированный префикс. Дополнительные сведения см. в разделе [документацию о резервирование префикса идентификатора](../reference/id-prefix-reservation.md).

Метаданные, содержащиеся в объекте результата поиска берется из последней версии пакета. Каждый элемент в `versions` массива представляет собой объект JSON со следующими свойствами:

name      | Тип    | Обязательно | Примечания
--------- | ------- | -------- | -----
@id       | string  | да      | Абсолютный URL-адрес в связанный [конечного регистрации](registration-base-url-resource.md#registration-leaf)
version   | string  | да      | Полную строку версии SemVer 2.0.0 пакета (может содержать метаданные сборки)
Файлы для загрузки | целочисленный | да      | Количество загрузок для этой версии пакета

### <a name="sample-request"></a>Пример запроса

    GET https://api-v2v3search-0.nuget.org/query?q=NuGet.Versioning&prerelease=false

### <a name="sample-response"></a>Пример ответа

[!code-JSON [search-result.json](./_data/search-result.json)]
