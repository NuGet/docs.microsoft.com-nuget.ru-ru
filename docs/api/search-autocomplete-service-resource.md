---
title: Автозаполнение, API NuGet
description: Служба автозаполнения поиска поддерживает интерактивное обнаружение идентификаторов и версий пакетов.
author: joelverhagen
ms.author: jver
ms.date: 10/26/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: 1179ad649da560766f28c18ab6fa670fd8fa6d8b
ms.sourcegitcommit: 7441f12f06ca380feb87c6192ec69f6108f43ee3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69488297"
---
# <a name="autocomplete"></a>Автозавершение

Можно создать идентификатор пакета и Автозаполнение версий с помощью API V3. Ресурс, используемый для выполнения запросов автозаполнения, — `SearchAutocompleteService` это ресурс, найденный в [индексе службы](service-index.md).

## <a name="versioning"></a>Управление версиями

Используются следующие `@type` значения:

Значение@type                          | Примечания
------------------------------------ | -----
сеарчаутокомплетесервице            | Первоначальный выпуск
Сеарчаутокомплетесервице/3.0.0 — бета-версия | Псевдоним`SearchAutocompleteService`
Сеарчаутокомплетесервице/3.0.0-RC   | Псевдоним`SearchAutocompleteService`

## <a name="base-url"></a>Базовый URL-адрес

Базовый URL-адрес для следующих API-интерфейсов — это `@id` значение свойства, связанного с одним из вышеупомянутых `@type` значений ресурсов. В следующем документе будет использоваться базовый URL-адрес `{@id}` заполнителя.

## <a name="http-methods"></a>Методы HTTP

Все URL-адреса, найденные в ресурсе регистрации `GET` , `HEAD`поддерживают методы HTTP и.

## <a name="search-for-package-ids"></a>Поиск идентификаторов пакетов

Первый API автозаполнения поддерживает поиск части строки идентификатора пакета. Это очень удобно, если вы хотите предоставить typeahead пакета в пользовательском интерфейсе, интегрированном с источником пакета NuGet.

Пакет, содержащий только непоставленные версии, не будет отображаться в результатах.

    GET {@id}?q={QUERY}&skip={SKIP}&take={TAKE}&prerelease={PRERELEASE}&semVerLevel={SEMVERLEVEL}

### <a name="request-parameters"></a>Параметры запроса

name        | In     | Тип    | Обязательно | Примечания
----------- | ------ | ------- | -------- | -----
q           | URL    | string  | Нет       | Строка для сравнения с идентификаторами пакета
skip        | URL    | целочисленный | Нет       | Число пропускаемых результатов для разбивки на страницы
нимают        | URL    | целочисленный | Нет       | Число возвращаемых результатов для разбивки на страницы
предварительной  | URL    | boolean | Нет       | `true`или `false` определить, следует ли включать [пакеты предварительной версии](../create-packages/prerelease-packages.md)
семверлевел | URL    | string  | Нет       | Строка версии SemVer 1.0.0 

Запрос `q` автозаполнения анализируется способом, который определяется реализацией сервера. nuget.org поддерживает запросы к префиксам токенов ИДЕНТИФИКАТОРов пакетов, которые представляют собой фрагменты идентификатора, созданного путем разделения оригинала на символы Camel и символов.

Значение `skip` параметра по умолчанию равно 0.

`take` Параметр должен быть целым числом больше нуля. Реализация сервера может накладывать максимальное значение.

Если `prerelease` не указан, пакеты предварительной версии исключаются.

Параметр запроса используется для явного согласия на [пакеты 2.0.0 SemVer.](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29#identifying-semver-v200-packages) `semVerLevel`
Если этот параметр запроса исключен, будут возвращены только идентификаторы пакетов с совместимыми версиями SemVer 1.0.0 (со стандартными предупреждениями [управления версиями NuGet](../concepts/package-versioning.md) , такими как строки версии с 4 целыми частями).
Если `semVerLevel=2.0.0` указан, будут возвращены совместимые пакеты SemVer 1.0.0 и SemVer 2.0.0. Дополнительные сведения см. в разделе [Поддержка SemVer 2.0.0 для NuGet.org](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29) .

### <a name="response"></a>Отклик

Ответ — это документ JSON, содержащий `take` результаты автозаполнения.

Корневой объект JSON имеет следующие свойства:

name      | Тип             | Обязательно | Примечания
--------- | ---------------- | -------- | -----
тоталхитс | целочисленный          | да      | Общее число совпадений, неотношении `skip` и`take`
Данные      | Массив строк | да      | Идентификаторы пакетов, совпадающие по запросу

### <a name="sample-request"></a>Пример запроса

    GET https://api-v2v3search-0.nuget.org/autocomplete?q=storage&prerelease=true

### <a name="sample-response"></a>Пример ответа

[!code-JSON [autocomplete-id-result.json](./_data/autocomplete-id-result.json)]

## <a name="enumerate-package-versions"></a>Перечислить версии пакета

После того как идентификатор пакета будет обнаружен с помощью предыдущего API, клиент может использовать API автозаполнения для перечисления версий пакета для указанного идентификатора пакета.

Версия пакета, которая не указана в списке, не будет отображаться в результатах.

    GET {@id}?id={ID}&prerelease={PRERELEASE}&semVerLevel={SEMVERLEVEL}

### <a name="request-parameters"></a>Параметры запроса

name        | In     | Тип    | Обязательно | Примечания
----------- | ------ | ------- | -------- | -----
id          | URL    | string  | да      | Идентификатор пакета для выборки версий для
предварительной  | URL    | boolean | Нет       | `true`или `false` определить, следует ли включать [пакеты предварительной версии](../create-packages/prerelease-packages.md)
семверлевел | URL    | string  | Нет       | Строка версии 2.0.0 SemVer 

Если `prerelease` не указан, пакеты предварительной версии исключаются.

Параметр `semVerLevel` запроса используется для явного согласия на пакеты 2.0.0 SemVer. Если этот параметр запроса исключен, будут возвращены только версии SemVer 1.0.0. Если `semVerLevel=2.0.0` указан, будут возвращены версии SemVer 1.0.0 и SemVer 2.0.0. Дополнительные сведения см. в разделе [Поддержка SemVer 2.0.0 для NuGet.org](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29) .

### <a name="response"></a>Отклик

Ответ — это документ JSON, содержащий все версии пакета указанного идентификатора пакета, который фильтрует по заданным параметрам запроса.

Корневой объект JSON имеет следующее свойство:

name      | Тип             | Обязательно | Примечания
--------- | ---------------- | -------- | -----
Данные      | Массив строк | да      | Версии пакета, соответствующие запросу

Версии пакета в `data` массиве могут содержать метаданные сборки SemVer 2.0.0 ( `1.0.0+metadata`например,), `semVerLevel=2.0.0` если в строке запроса содержится.

### <a name="sample-request"></a>Пример запроса

    GET https://api-v2v3search-0.nuget.org/autocomplete?id=nuget.protocol&prerelease=true

### <a name="sample-response"></a>Пример ответа

[!code-JSON [autocomplete-version-result.json](./_data/autocomplete-version-result.json)]
