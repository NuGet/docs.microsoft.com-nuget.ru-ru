---
title: Функция автозаполнения, API NuGet
description: Служба поиска autocomplete поддерживает интерактивного поиска пакета, идентификаторы и версии.
author: joelverhagen
ms.author: jver
ms.date: 10/26/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: 2d2b20c1ea439ec0a3225cf983d9a4d2eedb0333
ms.sourcegitcommit: 6ea2ff8aaf7743a6f7c687c8a9400b7b60f21a52
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/16/2019
ms.locfileid: "54324764"
---
# <a name="autocomplete"></a>Автозавершение

Существует возможность пакета ИД и версию автозавершения работы с помощью V3 API. Ресурс, используемый для автозаполнения запросов является `SearchAutocompleteService` найти ресурс в [индекс службы](service-index.md).

## <a name="versioning"></a>Управление версиями

Следующие `@type` значения используются:

Значение@type                           | Примечания
------------------------------------ | -----
SearchAutocompleteService            | Первоначальный выпуск
SearchAutocompleteService/3.0.0-beta | Псевдоним `SearchAutocompleteService`
SearchAutocompleteService/3.0.0-rc   | Псевдоним `SearchAutocompleteService`

## <a name="base-url"></a>Базовый URL-адрес

Базовый URL-адрес для следующих API-интерфейсов является значением `@id` свойства, связанные с одной из упомянутых выше ресурсов `@type` значения. В следующем документе заполнитель базовый URL-адрес `{@id}` будет использоваться.

## <a name="http-methods"></a>Методы HTTP

Все URL-адреса, найден в регистрации ресурсов поддерживают методы HTTP `GET` и `HEAD`.

## <a name="search-for-package-ids"></a>Найдите пакет идентификаторы

Первый API автозаполнения поддерживает поиск строки идентификатор пакета. Это очень удобно, если вы хотите предоставить функцию typeahead пакета в пользовательском интерфейсе, интегрированных с источником пакета NuGet.

Пакет, содержащий только версии, отсутствующие в списке не появится в результатах.

    GET {@id}?q={QUERY}&skip={SKIP}&take={TAKE}&prerelease={PRERELEASE}&semVerLevel={SEMVERLEVEL}

### <a name="request-parameters"></a>Параметры запроса

name        | Увеличение     | Тип    | Обязательно | Примечания
----------- | ------ | ------- | -------- | -----
q           | URL-адрес    | string  | Нет       | Строка, сравниваемая с идентификаторами пакетов
skip        | URL-адрес    | целочисленный | Нет       | Количество пропускаемых для разбиения на страницы результатов
Take        | URL-адрес    | целочисленный | Нет       | Количество результатов, возвращаемых для разбиения на страницы
Предварительные выпуски  | URL-адрес    | boolean | Нет       | `true` или `false` определения, следует ли включать [пакетов предварительных версий](../create-packages/prerelease-packages.md)
semVerLevel | URL-адрес    | string  | Нет       | Строка версии SemVer 1.0.0 

Автозаполнение запроса `q` анализируется таким образом, определяется в реализации сервера. NuGet.org поддерживает выполнение запросов для префикса маркеров Идентификации пакета, которые являются элементами идентификатор созданного разделение исходного по camel знаков и символов.

`skip` Параметр по умолчанию равен 0.

`take` Параметр должен быть целым числом больше нуля. Реализация сервера может привести к повышению максимальное значение.

Если `prerelease` не указан, исключаются пакеты предварительного выпуска.

`semVerLevel` Параметра запроса используется для согласиться на [SemVer 2.0.0 пакетов](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29#identifying-semver-v200-packages).
Если этот параметр запроса не исключается, будут возвращены только идентификаторы пакета с SemVer 1.0.0 совместимые версии (с [стандартный управления версиями NuGet](../reference/package-versioning.md) предупреждения, такие как строки версии с 4 частей целого числа).
Если `semVerLevel=2.0.0` не указан, будет возвращено SemVer 1.0.0 и совместимые пакеты SemVer 2.0.0. См. в разделе [поддержки SemVer 2.0.0 для nuget.org](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29) Дополнительные сведения.

### <a name="response"></a>Ответ

Ответ является документ JSON, содержащий до `take` результаты автозаполнения.

Корневой объект JSON имеет следующие свойства:

name      | Тип             | Обязательно | Примечания
--------- | ---------------- | -------- | -----
totalHits | целочисленный          | да      | Общее количество совпадений, без учета `skip` и `take`
Данные      | Массив строк | да      | Пакет идентификаторы запрос соответствует

### <a name="sample-request"></a>Пример запроса

    GET https://api-v2v3search-0.nuget.org/autocomplete?q=storage&prerelease=true

### <a name="sample-response"></a>Пример ответа

[!code-JSON [autocomplete-id-result.json](./_data/autocomplete-id-result.json)]

## <a name="enumerate-package-versions"></a>Перечисление версий пакета

После обнаружения идентификатор пакета с помощью предыдущего API, клиент может использовать API автозаполнения для перечисления версии пакетов для идентификатора указанный пакет.

Версии пакета, отсутствующие в списке не появится в результатах.

    GET {@id}?id={ID}&prerelease={PRERELEASE}&semVerLevel={SEMVERLEVEL}

### <a name="request-parameters"></a>Параметры запроса

name        | Увеличение     | Тип    | Обязательно | Примечания
----------- | ------ | ------- | -------- | -----
id          | URL-адрес    | string  | да      | Идентификатор пакета для получения версии для
Предварительные выпуски  | URL-адрес    | boolean | Нет       | `true` или `false` определения, следует ли включать [пакетов предварительных версий](../create-packages/prerelease-packages.md)
semVerLevel | URL-адрес    | string  | Нет       | Строка версии SemVer 2.0.0. 

Если `prerelease` не указан, исключаются пакеты предварительного выпуска.

`semVerLevel` Параметра запроса используется для согласиться на пакеты SemVer 2.0.0. Если этот параметр запроса не исключается, будет возвращаться только версии SemVer 1.0.0. Если `semVerLevel=2.0.0` не указан, будет возвращено SemVer 1.0.0 и версии SemVer 2.0.0. См. в разделе [поддержки SemVer 2.0.0 для nuget.org](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29) Дополнительные сведения.

### <a name="response"></a>Ответ

Ответом является документ JSON, содержащий все версии пакетов идентификатора указанный пакет, фильтрация по заданным параметрам запроса.

Корневой объект JSON имеет следующее свойство:

name      | Тип             | Обязательно | Примечания
--------- | ---------------- | -------- | -----
Данные      | Массив строк | да      | Версии пакетов, совпадающих с запроса

Версии пакетов в `data` массив может содержать метаданные сборки SemVer 2.0.0 (например `1.0.0+metadata`) Если `semVerLevel=2.0.0` был представлен в строке запроса.

### <a name="sample-request"></a>Пример запроса

    GET https://api-v2v3search-0.nuget.org/autocomplete?id=nuget.protocol&prerelease=true

### <a name="sample-response"></a>Пример ответа

[!code-JSON [autocomplete-version-result.json](./_data/autocomplete-version-result.json)]
