---
title: Вопросы и ответы по NuGet
description: Вопросы и ответы по использованию NuGet в командной строке и в Visual Studio
author: shishirx34
ms.author: shishirh
ms.date: 06/05/2019
ms.topic: conceptual
ms.openlocfilehash: 8bc6af90638408847af6e97cebcbf428f1d5d886
ms.sourcegitcommit: b9a134a6e10d7d8502613f389f7d5f9b9e206ec8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/28/2019
ms.locfileid: "67467761"
---
# <a name="nuget-frequently-asked-questions"></a>Вопросы и ответы по NuGet

**Что необходимо для запуска NuGet?**

Все данные по пользовательскому интерфейсу и средствам командной строки доступны в [руководстве по установке](../install-nuget-client-tools.md).

**Поддерживает ли NuGet Mono?**

Средство командной строки `nuget.exe` выполняет построение и запускается с помощью Mono 3.2 или более поздней версии и поддерживает создание пакетов в Mono.

Несмотря на то, что `nuget.exe` полностью работает в Windows, в Linux и OS X существуют известные проблемы. См. раздел GitHub, посвященный [проблемам с Mono](https://github.com/NuGet/Home/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+mono).

[Графический клиент](https://github.com/mrward/monodevelop-nuget-addin) доступен в виде надстройки для MonoDevelop.

**Как можно определить, что содержит пакет, и является ли он стабильным и полезным для моего приложения?**

Основным источником информации о пакете является его страница сведений на веб-сайте nuget.org (или в другом закрытом веб-канале). На странице каждого пакета на веб-сайте nuget.org приводится описание проекта, история его версий и статистика использования. В разделе **Сведения** на странице пакета также приводится ссылка на веб-сайт проекта, где обычно можно найти много примеров и других документов, с помощью которых можно оценить полезность пакета.

Дополнительные сведения см. в разделе [Поиск и выбор пакетов](../consume-packages/finding-and-choosing-packages.md).

## <a name="nuget-in-visual-studio"></a>NuGet в среде Visual Studio

**Каким образом обеспечивается поддержка NuGet в различных продуктах Visual Studio?**

- Visual Studio для Windows поддерживает [пользовательский интерфейс диспетчера пакетов](../tools/package-manager-ui.md) и [консоль диспетчера пакетов](../tools/package-manager-console.md).
- Visual Studio для Mac реализует встроенные возможности NuGet, которые описываются в разделе [Включение пакета NuGet в проект](/visualstudio/mac/nuget-walkthrough).
- Visual Studio Code для всех платформ не поддерживает прямую интеграцию с NuGet. Используйте [интерфейс командной строки NuGet](../tools/nuget-exe-cli-reference.md) или [интерфейс командной строки dotnet](../tools/dotnet-commands.md).
- Azure DevOps реализует [шаг построения для восстановления пакетов NuGet](/vsts/build-release/tasks/package/nuget). Также вы можете [разместить закрытые веб-каналы NuGet в Azure DevOps](https://docs.microsoft.com/azure/devops/artifacts/nuget/publish).

**Как определить точную версию устанавливаемых средств NuGet?**

В Visual Studio выберите **Справка > О Microsoft Visual Studio** и проверьте версию компонента **Диспетчер пакетов NuGet**.

Также можно запустить консоль диспетчера пакетов (**Сервис > Диспетчер пакетов NuGet > Консоль диспетчера пакетов**) и ввести `$host`, чтобы просмотреть сведения о версии NuGet и другую информацию.

**Какие языки программирования поддерживает NuGet?**

NuGet обычно работает с языками платформы .NET и предназначен для использования библиотек .NET в проекте. Поскольку для проектов некоторых типов также поддерживаются средства автоматизации MSBuild и Visual Studio, в определенной степени также поддерживаются другие проекты и языки.

Последняя версия NuGet поддерживает C#, Visual Basic, F#, WiX и C++.

**Какие шаблоны проектов поддерживает NuGet?**

NuGet обеспечивает полную поддержку множества шаблонов проектов, включая Windows, Интернет, облако, SharePoint, Wix и другие.

**Как обновить пакеты, которые являются частью шаблонов Visual Studio?**

Перейдите на вкладку **Обновления** в пользовательском интерфейсе диспетчера проектов и выберите **Обновить все** или воспользуйтесь [командой `Update-Package`](../tools/ps-ref-update-package.md) в консоли диспетчера проектов.

Чтобы обновить сам шаблон, необходимо вручную обновить репозиторий шаблонов. Дополнительные сведения по этой теме см. в [блоге Ксавье Декостера (Xavier Decoster)](http://www.xavierdecoster.com/update-project-template-to-latest-nuget-packages). Обратите внимание, что все это вы делаете на свой страх и риск, поскольку ручное обновление может привести к повреждению шаблона в том случае, если последние версии всех зависимостей несовместимы друг с другом.

**Можно ли использовать NuGet вне среды Visual Studio?**

Да. NuGet работает непосредственно из командной строки. См. [руководство по установке](../install-nuget-client-tools.md) и [справочник по интерфейсу командной строки](../tools/nuget-exe-cli-reference.md).

## <a name="nuget-command-line"></a>Командная строка NuGet

**Как получить последнюю версию средства командной строки NuGet?**

См. [руководство по установке](../install-nuget-client-tools.md).

**Для чего нужна лицензия на веб-сайте nuget.exe?**

Вы можете распространить nuget.exe в соответствии с условиями лицензии MIT. Вы несете ответственность за обновление и обслуживание всех распространяемых вами копий nuget.exe.

**Можно ли расширить возможности средства командной строки NuGet?**

Да. Вы можете добавлять в `nuget.exe` собственные команды, как описывается в [статье Роба Рейнолда (Rob Reynold)](http://geekswithblogs.net/robz/archive/2011/07/15/extend-nuget-command-line.aspx).

## <a name="nuget-package-manager-console-visual-studio-on-windows"></a>Консоль диспетчера пакетов NuGet (Visual Studio для Windows)

**Как получить доступ к объекту DTE в консоли диспетчера пакетов?**

Объект верхнего уровня в объектной модели автоматизации Visual Studio называется объектом DTE (среда средств разработки). Этот объект предоставляется консолью с помощью переменной `$DTE`. Дополнительные сведения см. в разделе [Общие сведения о модели автоматизации](/visualstudio/extensibility/internals/automation-model-overview) в документации по расширению среды Visual Studio.

**При попытке привести переменную $DTE к типу DTE2 возникает ошибка: "Не удается преобразовать значение "EnvDTE.DTEClass" типа "EnvDTE.DTEClass" в тип "EnvDTE80.DTE2"". В чем проблема?**

Это известная проблема, связанная с взаимодействием PowerShell с COM-объектом. Попробуйте выполнить следующие действия:

```ps
`$dte2 = Get-Interface $dte ([EnvDTE80.DTE2])`
```

`Get-Interface` — это вспомогательная функция, добавляемая узлом PowerShell NuGet.

## <a name="creating-and-publishing-packages"></a>Создание и публикация пакетов

**Как включить мой пакет в веб-канал?**

См. раздел [Создание и публикация пакетов](../quickstart/create-and-publish-a-package.md).

**У меня есть несколько версий библиотеки, предназначенных для различных версий платформы .NET Framework. Как построить единый пакет, поддерживающий такую реализацию?**

См. раздел [Поддержка нескольких версий и профилей платформы .NET Framework](../create-packages/supporting-multiple-target-frameworks.md).

**Как настроить свой собственный репозиторий или веб-канал?**

См. раздел [Общие сведения о размещении пакетов](../hosting-packages/overview.md).

**Как выполнить массовую загрузку пакетов в мой веб-канал NuGet?**

См. раздел [Массовая публикация пакетов NuGet](http://jeffhandley.com/archive/2012/12/13/Bulk-Publishing-NuGet-Packages.aspx) (jeffhandly.com).

## <a name="working-with-packages"></a>Работа с пакетами

**В чем разница между пакетами уровня проекта и уровня решения?**

Пакет уровня решения (NuGet версии 3.x или более поздней) устанавливается в решении только один раз и после этого доступен для всех проектов решения. Пакет уровня проекта устанавливается в каждом проекте, который его использует. Пакет уровня решения также может устанавливать новые команды, которые могут вызываться из консоли диспетчера пакетов.

**Можно ли устанавливать пакеты NuGet без подключения к Интернету?**

Да. См. статью блога Скотта Ханселмана (Scott Hanselman), посвященную [доступу к NuGet при неработающем веб-сайте nuget.org или во время полета на самолете](http://www.hanselman.com/blog/HowToAccessNuGetWhenNuGetorgIsDownOrYoureOnAPlane.aspx) (hanselman.com).

**Можно ли устанавливать пакеты в папку, отличную от заданной по умолчанию?**

Задайте параметр [`repositoryPath`](../reference/nuget-config-file.md#config-section) в файле `Nuget.Config`, используя `nuget config -set repositoryPath=<path>`.

**Как избежать добавления папки пакетов NuGet в систему управления версиями?**

Присвойте свойству [`disableSourceControlIntegration`](../reference/nuget-config-file.md#solution-section) в файле `Nuget.Config` значение `true`. Этот ключ работает на уровне решения и поэтому должен добавляться в файл `$(Solutiondir)\.nuget\Nuget.Config`. Если включить восстановление пакета из Visual Studio, этот файл будет создан автоматически.

**Как отключить восстановление пакетов?**

См. раздел [Включение и отключение восстановления пакетов](../consume-packages/package-restore.md#enable-and-disable-package-restore).

**Почему при установке локального пакета с удаленными зависимостями возникает ошибка "Не удается разрешить зависимость"?**

При установке локального пакета в проект выберите источник **Все**. При этом вместо использования одного веб-канала будут объединены все веб-каналы. Причиной этой ошибки обычно является то, что пользователи локального репозитория часто стремятся избежать случайной установки удаленного пакета из-за требований корпоративной политики.

**У меня есть несколько проектов, расположенных в одной папке. Как использовать отдельные файлы packages.config для каждого проекта?**

В большинстве случаев, когда отдельные проекты располагаются в отдельных папках, это не проблема, поскольку NuGet идентифицирует файлы `packages.config` в каждом проекте. Если вы работаете с NuGet версии 3.3 или более поздней и размещаете несколько проектов в одной папке, вы можете вставить имя проекта в имена файлов `packages.config`, используя шаблон `packages.{project-name}.config`. NuGet будет использовать этот файл.

Это также не проблема при использовании PackageReference, поскольку каждый файл проекта содержит собственный список зависимостей.

**Я не вижу nuget.org в списке репозиториев. Как вернуть его?**

- Добавьте `https://api.nuget.org/v3/index.json` в список источников или
- Удалите файл `%appdata%\.nuget\NuGet.Config` (Windows) или `~/.nuget/NuGet/NuGet.Config` (Mac/Linux) и дождитесь, пока NuGet снова создаст его.
