---
title: Подписанные пакеты
description: Требования для подписи пакета NuGet.
author: rido-min
ms.author: rmpablos
ms.date: 05/18/2018
ms.topic: reference
ms.reviewer: ananguar
ms.openlocfilehash: 85fdf7a41cc033d92bbd0326648142aec27a9970
ms.sourcegitcommit: 1462f9f42ae36b3c990762ad4f02e38ab799ad09
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2021
ms.locfileid: "107508804"
---
# <a name="signed-packages"></a>Подписанные пакеты

*NuGet 4.6.0 + и Visual Studio 2017 версии 15,6 и более поздних версий*

Пакеты NuGet могут включать цифровую подпись, обеспечивающую защиту от несанкционированного содержимого. Эта подпись создается из сертификата X. 509, который также добавляет подтверждения подлинности в фактический источник пакета.

Подписанные пакеты обеспечивают максимально надежную сквозную проверку. Существует два разных типа сигнатур NuGet:
- **Подпись автора**. Подпись автора гарантирует, что пакет не был изменен с момента подписания автором пакета, независимо от того, какой из репозиториев или какой метод транспорта доставляет пакет. Кроме того, подписанные издателем пакеты предоставляют дополнительный механизм проверки подлинности для конвейера публикации nuget.org, так как сертификат подписи должен быть зарегистрирован заранее. Дополнительные сведения см. в разделе [Регистрация сертификатов](#signature-requirements-on-nugetorg).
- **Подпись репозитория**. Подписи репозитория обеспечивают гарантию целостности для **всех** пакетов в репозитории независимо от того, подписаны ли они автором или нет, даже если эти пакеты получаются из расположения, отличного от местоположения исходного репозитория, в котором они были подписаны.   

Дополнительные сведения о создании подписанного пакета автора см. в разделе [Подписывание пакетов](../create-packages/Sign-a-package.md) и [команда подписывания NuGet](../reference/cli-reference/cli-ref-sign.md). Подписи пакетов можно проверить с помощью команд [DotNet NuGet Verify](/dotnet/core/tools/dotnet-nuget-verify) или [NuGet Verify](../reference/cli-reference/cli-ref-verify.md) .

> [!Important]
> Пакеты подписывания автора в настоящее время поддерживаются только nuget.exe в Windows. Однако все пакеты, загруженные в nuget.org, автоматически подписываются в репозиторий.

## <a name="certificate-requirements"></a>Требования к сертификатам

Для подписи пакета требуется сертификат подписи кода, который является специальным типом сертификата, допустимым для `id-kp-codeSigning` назначения [[RFC 5280, раздел 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)]. Кроме того, сертификат должен иметь открытый ключ RSA длиной не более 2048 бит.

## <a name="timestamp-requirements"></a>Требования к отметке времени

Подписанные пакеты должны содержать метку времени RFC 3161, чтобы убедиться, что срок действия подписи выходит за пределы срока действия сертификата подписи пакета. Сертификат, используемый для подписи метки времени, должен быть допустимым для `id-kp-timeStamping` назначения [[RFC 5280 section 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)]. Кроме того, сертификат должен иметь открытый ключ RSA длиной не более 2048 бит.

Дополнительные технические сведения можно найти в [технических спецификациях сигнатур пакетов](https://github.com/NuGet/Home/wiki/Package-Signatures-Technical-Details) (GitHub).

## <a name="signature-requirements-on-nugetorg"></a>Требования к подписи для NuGet.org

nuget.org имеет дополнительные требования для принятия подписанного пакета:

- Основная сигнатура должна быть сигнатурой автора.
- Основная сигнатура должна иметь одну допустимую метку времени.
- Сертификаты X. 509 для сигнатуры автора и сигнатуры отметок времени:
  - Должен иметь открытый ключ RSA 2048 или более.
  - Должно быть в пределах срока действия в текущем времени в формате UTC во время проверки пакета в nuget.org.
  - Должен быть связан с доверенным корневым центром сертификации, который по умолчанию является доверенным для Windows. Пакеты, подписанные с помощью самостоятельно выданных сертификатов, отклоняются.
  - Должен быть допустимым для его назначения: 
    - Сертификат для подписи автора должен быть допустимым для подписывания кода.
    - Сертификат метки времени должен быть допустимым для метки времени.
  - Не должно быть отозвано во время подписывания. (Это может быть неясно во время отправки, поэтому nuget.org периодически проверяет состояние отзыва).
  
  
## <a name="related-articles"></a>Похожие статьи

- [Подписывание пакетов NuGet](../create-packages/Sign-a-Package.md)
- [Проверка подписанных пакетов с помощью DotNet CLI](/dotnet/core/tools/dotnet-nuget-verify)
- [Проверка подписанных пакетов с помощью nuget.exe](../reference/cli-reference/cli-ref-verify.md)
- [Управление границами доверия пакета](../consume-packages/installing-signed-packages.md)
