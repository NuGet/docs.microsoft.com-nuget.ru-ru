---
title: NU5130 предупреждения NuGet
description: Код предупреждения NU5130
author: zivkan
ms.date: 09/16/2019
ms.topic: reference
ms.reviewer: karann
f1_keywords:
- NU5130
ms.openlocfilehash: a20a8623450b6277c1a3d19293bae2f2c5e1ddf3
ms.sourcegitcommit: e4b0ff4460865db6dc7bc9f20e9f644d98493011
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/26/2019
ms.locfileid: "71307509"
---
# <a name="nuget-warning-nu5130"></a>NU5130 предупреждения NuGet

<pre>Some target frameworks declared in the dependencies group of the nuspec and the lib/ref folder have compatible matches, but not exact matches in the other location. Unless intentional, consult the list of actions below:
- Add a dependency group for .NETFramework4.7.2 to the nuspec</pre>

### <a name="issue"></a>Проблемы

Каталог `lib/<tfm>/` или`ref/<tfm>/` в пакете содержит по крайней мере один файл для [моникера целевой платформы (TFM)](../target-frameworks.md) , указанного в сообщении с предупреждением. Однако для этого TFM в `nuspec` файле не существует группы зависимостей. Это может привести к тому, что потребители пакета будут предполагать, что пакет несовместим с TFM. Если сборки для указанного TFM имеют разные зависимости от совместимых TFM, определенных в группе зависимостей, то проект, использующий пакет, может столкнуться с ошибками во время выполнения.

### <a name="solution"></a>Решение

* Запуск целевого объекта пакета NuGet в проекте

По возможности используйте [целевой объект пакета MSBuild для NuGet](../msbuild-targets.md), так как он автоматически сопоставляет сборку TFM с группами зависимостей из целевых платформ проекта. Обратите внимание, что проект `PackageReference` должен использоваться для собственных зависимостей NuGet. Если в проекте используется Packages. config, необходимо использовать `nuget.exe pack` `nuspec` и файл.

* Изменение `nuspec` файла вручную

При использовании пользовательского `nuspec` файла рекомендуется, чтобы каждый TFM, для `ref/` которого `lib/` существуют сборки, соответствовал соответствующей группе зависимостей, даже если зависимости совпадают со следующими совместимыми TFM. Например, если пакет содержит `netstandard1.0` сборки и `netstandard2.0` , а зависимости одинаковы для обоих типов, мы рекомендуем использовать оба TFM в качестве групп зависимостей с повторяющимися элементами зависимостей.

Обратите внимание, что идентификатор TFM, используемый в путях сборок, использует другой формат идентификатора TFM, используемого в группах зависимостей. Предупреждающее сообщение указывает правильное имя для использования в группе зависимостей. Если у пакета нет зависимостей для этой целевой платформы, используйте пустую группу. Например:

```xml
<package>
  <metadata>
    ...
    <dependencies>
      <group targetFramework=".NETFramework4.7.2" />
    </dependencies>
  </metadata>
  ...
<package>
```

* `ref/` Удаление файлов `lib/` или

Если вы не хотите, чтобы пакет был совместим с сообщаемым TFM, измените проект таким способом, чтобы в `lib/<tfm>/` пакете `ref/<tfm>/` для этого TFM не было файлов или. Например, если предупреждение говорит о `.NETFramework4.7.2` добавлении группы зависимостей для `nuspec`в, удалите все `lib/net472/*` файлы и `ref/net472/*` из пакета.
